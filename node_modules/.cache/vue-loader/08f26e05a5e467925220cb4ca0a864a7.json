{"remainingRequest":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket\\src\\views\\setting\\Configuracion.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket\\src\\views\\setting\\Configuracion.vue","mtime":1637150267481},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBWdWUsIENvbXBvbmVudCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOw0KaW1wb3J0IHNldHRpbmdNb2R1bGUgZnJvbSAnQC9zdG9yZS9tb2R1bGVzL3NldHRpbmdNb2R1bGUnOw0KaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICd2ZWUtdmFsaWRhdGUvZGlzdC9ydWxlcycNCmltcG9ydCB7IGV4dGVuZCwgVmFsaWRhdGlvbk9ic2VydmVyLCBWYWxpZGF0aW9uUHJvdmlkZXIsIHNldEludGVyYWN0aW9uTW9kZSB9IGZyb20gJ3ZlZS12YWxpZGF0ZScNCmltcG9ydCB7IFNldHRpbmcgfSBmcm9tICJAL3N0b3JlL2ludGVyZmFjZXMvU2V0dGluZyI7DQppbXBvcnQge3NlcmlhbGl6ZSwgZGVzZXJpYWxpemUgfSBmcm9tICdqc29uYXBpLWZyYWN0YWwnDQppbXBvcnQgTm90aWZpY2FjaW9uIGZyb20gJ0AvY29tcG9uZW50cy9Ob3RpZmljYWNpb25lcy52dWUnOw0KDQpAQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KICAgIE5vdGlmaWNhY2lvbg0KICB9DQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZmlndXJhY2lvbiBleHRlbmRzIFZ1ZSB7DQogICAgaXRlbXMgPSBbXTsNCiAgICBpbWFnZW4gPSBudWxsOw0KICAgIHNob3dJbWFnZSA9IG51bGw7DQogICAgaW1hZ2VOYW1lID0gJyc7DQogICAgaW1hZ2VVcmwgOiBhbnkgPSAnJzsNCiAgICBpbWFnZUZpbGUgPSAnJzsNCiAgICBvdmVybGF5ID0gZmFsc2U7DQogICAgc2V0dGluZ0Zvcm0gPSB7DQogICAgICAgIGlkOicxJywNCiAgICAgICAgbG9nbzogJycgLA0KICAgICAgICByZWFjdGl2YXJfc2VzaW9uIDogMCwNCiAgICAgICAgaWRfYWxtYWNlbjogMCwNCiAgICAgICAgdmVyX3N0b2NrX2FydDogMCwNCiAgICAgICAgbXNqX3NpbnN0b2NrOiAwLA0KICAgICAgICB0aXBvX2RvY3VtZW50bzogJycsDQogICAgICAgIHVzYXJfc3RvY2tfbmVnOiAwLA0KICAgICAgICBhdXRvX3JlZ19jbGllbnRlczogMCwNCiAgICAgICAgZmlsdHJvX2NhdGVnb3JpYTogZmFsc2UsDQogICAgICAgIGZpbHRyb19saW5lYTogZmFsc2UsDQogICAgICAgIGZpbHRyb19zdWJsaW5lYTogZmFsc2UsDQogICAgICAgIGZpbHRyb19jb2xvcjogZmFsc2UsDQogICAgICAgIGZpbHRyb19wcm9jZWRlbmNpYTogZmFsc2UsDQogICAgICAgIGZpbHRyb19wcmVjaW86IGZhbHNlLA0KICAgIH0NCiAgICBzbmFja2JhciA9IGZhbHNlDQogICAgdGV4dG1zaiAgICAgPSAnJw0KICAgIHByZWNpbyAgICAgID0gZmFsc2UNCiAgICBjb2xvciAgICAgICA9IGZhbHNlDQogICAgbGluZWEgICAgICAgPSBmYWxzZQ0KICAgIHN1YmxpbmVhICAgID0gZmFsc2UNCiAgICBjYXRlZ29yaWEgICA9IGZhbHNlDQogICAgcHJvY2VkZW5jaWEgPSBmYWxzZQ0KICAgIG9wdGlvbiA9IFsNCiAgICAgICAge3ZhbHVlOiAnMCcsIHRleHQ6ICdObyd9LA0KICAgICAgICB7dmFsdWU6ICcxJywgdGV4dDogJ1NpJ30NCiAgICBdOw0KICAgIG9wdGlvbjEgPSBbDQogICAgICAgIHt2YWx1ZTogJzAnLCB0ZXh0OiAnTm8nfSwNCiAgICAgICAge3ZhbHVlOiAnMScsIHRleHQ6ICdTaSd9DQogICAgXTsgICAgDQogICAgZGF0YSgpew0KICAgIHJldHVybnsNCiAgICAgICAgICAgIHJ1bGVzOiBbDQogICAgICAgICAgICAodjphbnkpID0+ICEhdiB8fCAnQ2FtcG8gcmVxdWVyaWRvJw0KICAgICAgICBdIA0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgIGdldCBGb3JtUmVxdWVzdCgpOiBhbnkgew0KICAgICAgICByZXR1cm4gc2VyaWFsaXplKHRoaXMuc2V0dGluZ0Zvcm0sJ2NvbmZpZ3VyYWNpb25lc2dlbmVyYWxlcycse30pOw0KICAgIH0gDQogICAgb25GaWxlUGlja2VkIChlKSB7DQogICAgICAgIGNvbnN0IGZpbGVzID0gZS50YXJnZXQuZmlsZXMNCiAgICAgICAgaWYoZmlsZXNbMF0gIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgdGhpcy5pbWFnZU5hbWUgPSBmaWxlc1swXS5uYW1lDQogICAgICAgICAgICBpZih0aGlzLmltYWdlTmFtZS5sYXN0SW5kZXhPZignLicpIDw9IDApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnN0IGZyID0gbmV3IEZpbGVSZWFkZXIgKCkNCiAgICAgICAgICAgIGZyLnJlYWRBc0RhdGFVUkwoZmlsZXNbMF0pDQogICAgICAgICAgICBmci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBmci5yZXN1bHQNCiAgICAgICAgICAgICAgICB0aGlzLmltYWdlRmlsZSA9IGZpbGVzWzBdDQogICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nRm9ybS5sb2dvID0gdGhpcy5pbWFnZUZpbGUNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLmltYWdlTmFtZSA9ICcnDQogICAgICAgICAgICB0aGlzLmltYWdlRmlsZSA9ICcnDQogICAgICAgICAgICB0aGlzLmltYWdlVXJsID0gJycNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgICRyZWZzITogew0KICAgICAgICBzZXR0aW5nRm9ybTogSW5zdGFuY2VUeXBlPHR5cGVvZiBWYWxpZGF0aW9uT2JzZXJ2ZXI+Ow0KICAgIH07DQogICAgYXN5bmMgc3VibWl0U2V0dGluZygpIHsNCiAgICAgICAgY29uc3QgdmFsaWQgPSBhd2FpdCB0aGlzLiRyZWZzLnNldHRpbmdGb3JtLnZhbGlkYXRlKCk7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZQ0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHNldHRpbmdNb2R1bGUuc2F2ZVNldHRpbmcodGhpcy5Gb3JtUmVxdWVzdCkNCiAgICAgICAgICAgIHRoaXMudGV4dG1zaiA9ICdDb25maWd1cmFjacOzbiBBY3R1YWxpemFkYSBjb24gw4l4aXRvLicNCiAgICAgICAgICAgIHRoaXMuc25hY2tiYXIgPSB0cnVlDQogICAgICAgICAgICB0aGlzLmNvbmZpZ3VyYWNpb25lcygpOw0KICAgICAgICAgICAgdGhpcy5vdmVybGF5ID0gZmFsc2UNCiAgICANCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8vcmV0dXJuIGZhbHNlDQogICAgICAgIH0gICAgIA0KICAgDQogICAgfTsNCiAgICBnZXRBbG1hY2VuZXMoKSB7ICAgDQogICAgICAgIHNldHRpbmdNb2R1bGUuZ2V0QWxtYWNlbkFsbCgpDQogICAgICAgIC50aGVuKChyZXM6YW55KSA9PiAgew0KICAgICAgICAgICAgaWYgKHJlcykgew0KICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXM7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICkgICAgIA0KICAgIH07DQogICAgY29uZmlndXJhY2lvbmVzKCkgeyAgIA0KICAgICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgICAgIHNldHRpbmdNb2R1bGUuZ2V0Q29uZmlndXJhY2lvbmVzKCkNCiAgICAgICAgLnRoZW4oKHJlczphbnkpID0+ICB7DQogICAgICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nRm9ybSA9IHJlc1swXTsNCiAgICAgICAgICAgICAgICAvL1RPLURPID0gJ0zDs2dpY2EgcGFyYSBtYW5pcHVsYXIgbG9zIHYtc3dpdGNoIHRvZ2dsZScNCiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdGb3JtLmZpbHRyb19wcmVjaW8gICAgICA9IChyZXNbMF1bJ2ZpbHRyb19wcmVjaW8nXSA9PSAiMCIpID8gZmFsc2UgOiB0cnVlDQogICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nRm9ybS5maWx0cm9fY2F0ZWdvcmlhICAgPSAocmVzWzBdWydmaWx0cm9fY2F0ZWdvcmlhJ10gPT0gIjAiKSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZmlsdHJvX2xpbmVhICAgICAgID0gKHJlc1swXVsnZmlsdHJvX2xpbmVhJ10gPT0gIjAiKSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZmlsdHJvX3N1YmxpbmVhICAgID0gKHJlc1swXVsnZmlsdHJvX3N1YmxpbmVhJ10gPT0gIjAiKSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZmlsdHJvX2NvbG9yICAgICAgID0gKHJlc1swXVsnZmlsdHJvX2NvbG9yJ10gPT0gIjAiKSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ0Zvcm0uZmlsdHJvX3Byb2NlZGVuY2lhID0gKHJlc1swXVsnZmlsdHJvX3Byb2NlZGVuY2lhJ10gPT0gIjAiKSA/IGZhbHNlIDogdHJ1ZQ0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZQ0KICAgICAgfQ0KICAgICAgKSAgICAgDQogICAgfTsNCiAgICByZXNldCAoKSB7DQogICAgICAgIGlmICghdGhpcy4kcmVmcy5zZXR0aW5nRm9ybS52YWxpZGF0ZSgpKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLnNldHRpbmdGb3JtLnJlc2V0KCkNCiAgICAgICAgfSAgDQogICAgfTsNCiAgICBtb3VudGVkKCkgew0KICAgICAgICB0aGlzLmdldEFsbWFjZW5lcygpOw0KICAgICAgICB0aGlzLmNvbmZpZ3VyYWNpb25lcygpOw0KICAgIH0NCn0NCg0K"},{"version":3,"sources":["Configuracion.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Configuracion.vue","sourceRoot":"src/views/setting","sourcesContent":["<template>\r\n    <v-app>\r\n        <v-overlay :value=\"overlay\">\r\n        <v-progress-circular\r\n            indeterminate\r\n            size=\"64\"\r\n        ></v-progress-circular>\r\n        </v-overlay>\r\n        <v-form class=\"form-container\" \r\n            lazy-validation \r\n            ref=\"settingForm\"\r\n          >\r\n            <v-container >\r\n             <h4>Parámetros Generales</h4><br>\r\n                <v-layout row wrap >\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                            :items=\"option\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Sesión con tiempo de Expiración\"\r\n                            placeholder=\"Sesión con tiempo de Expiración\"\r\n                            v-model=\"settingForm.reactivar_sesion\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                        :items=\"items\"\r\n                        item-text=\"nombre\"\r\n                        item-value=\"id\"\r\n                        label=\"Almacen para Ventas\"\r\n                        v-model=\"settingForm.id_almacen\"\r\n                        outlined\r\n                        dense\r\n                        class=\"pl-3 pr-3\"\r\n                        :rules=\"rules\"\r\n                        required\r\n                        ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                            :items=\"option\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            placeholder=\"Mostrar Stock en Catálogo\"\r\n                            label=\"Mostrar Stock en Catálogo\"\r\n                            v-model=\"settingForm.ver_stock_art\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                            ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                            :items=\"option\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Mostrar alerta de Stock Negativo\"\r\n                            placeholder=\"Mostrar alerta de Stock Negativo\"\r\n                            v-model=\"settingForm.msj_sinstock\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-text-field\r\n                            label=\"Tipo Documento a usar en Fuerza de Ventas\"\r\n                            placeholder=\"Tipo Documento a usar en Fuerza de Ventas\"\r\n                            v-model=\"settingForm.tipo_documento\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-text-field>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                            :items=\"option\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Permitir el uso Stock Negativo\"\r\n                            placeholder=\"Permitir el uso Stock Negativo\"\r\n                            v-model=\"settingForm.usar_stock_neg\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                        <v-select\r\n                            :items=\"option1\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Los Clientes se pueden autoregistrar\"\r\n                            placeholder=\"Los Clientes se pueden autoregistrar\"\r\n                            v-model=\"settingForm.auto_reg_clientes\"\r\n                            outlined\r\n                            dense\r\n                            class=\"pl-3 pr-3\"\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-flex>\r\n                    <v-flex xs12 sm6 md3>\r\n                    \r\n                    <v-text-field label=\"Logo de la Empresa\"\r\n                        @click='$refs.image.click()'\r\n                    v-model='imageName' \r\n                    prepend-icon=\"mdi-camera\"\r\n                    class=\"pl-3 pr-3\"\r\n                    outlined\r\n                    dense\r\n                    ></v-text-field>\r\n                    <input\r\n                    type=\"file\"\r\n                    style=\"display: none\"\r\n                    ref=\"image\"\r\n                    accept=\"image/*\"\r\n                    @change=\"onFilePicked\"\r\n                    >\r\n                    <img class=\"img_prev\" :src=\"imageUrl\" height=\"120\" v-if=\"imageUrl\"/>\r\n                    </v-flex>\r\n                    <v-divider></v-divider>\r\n                    </v-layout>\r\n            </v-container>\r\n            <v-container>  \r\n                <h4>Filtros a Manejar en el Catálogo</h4>\r\n                <v-layout>    \r\n                    <v-row>\r\n                        <v-flex xs12 >\r\n                            <v-switch\r\n                            label=\"Categoría\"\r\n                            v-model=\"settingForm.filtro_categoria\"\r\n                            color=\"success\"\r\n                            :value=\"categoria\"  \r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            ></v-switch>\r\n                            <v-switch\r\n                            label=\"Línea\"\r\n                            v-model=\"settingForm.filtro_linea\"\r\n                            color=\"success\"\r\n                            :value=\"linea\"    \r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            ></v-switch>\r\n                            <v-switch\r\n                            label=\"Sub-línea\"\r\n                            v-model=\"settingForm.filtro_sublinea\"\r\n                            color=\"success\"\r\n                            :value=\"sublinea\"    \r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            ></v-switch>\r\n                            <v-switch\r\n                            label=\"Color\"\r\n                            v-model=\"settingForm.filtro_color\"\r\n                            color=\"success\"\r\n                            :value=\"color\"\r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            ></v-switch>\r\n                            <v-switch\r\n                            label=\"Procedencia\"\r\n                            v-model=\"settingForm.filtro_procedencia\"\r\n                            color=\"success\"\r\n                             :value=\"procedencia\"\r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            ></v-switch>\r\n                            <v-switch\r\n                            label=\"Precio\"\r\n                            v-model=\"settingForm.filtro_precio\"\r\n                            color=\"success\"\r\n                            hide-details\r\n                            class=\"pl-3 pr-3\"\r\n                            :value=\"precio\"\r\n                           \r\n                            ></v-switch>\r\n                        </v-flex>\r\n                    </v-row>\r\n                </v-layout>\r\n            </v-container>\r\n            <div class=\"mt-5 d-flex justify-end \">\r\n                <v-btn small color=\"error mr-3\" @click=\"reset\">Cancelar</v-btn>\r\n                <v-btn small @click=\"submitSetting\" color=\"success\"  >Guardar</v-btn> \r\n            </div>\r\n        </v-form>\r\n        <Notificacion :snackbar=\"snackbar\" :textmsj=\"textmsj\"/>\r\n    </v-app>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { Vue, Component } from 'vue-property-decorator';\r\nimport settingModule from '@/store/modules/settingModule';\r\nimport { required } from 'vee-validate/dist/rules'\r\nimport { extend, ValidationObserver, ValidationProvider, setInteractionMode } from 'vee-validate'\r\nimport { Setting } from \"@/store/interfaces/Setting\";\r\nimport {serialize, deserialize } from 'jsonapi-fractal'\r\nimport Notificacion from '@/components/Notificaciones.vue';\r\n\r\n@Component({\r\n  components: {\r\n    Notificacion\r\n  }\r\n})\r\nexport default class Configuracion extends Vue {\r\n    items = [];\r\n    imagen = null;\r\n    showImage = null;\r\n    imageName = '';\r\n    imageUrl : any = '';\r\n    imageFile = '';\r\n    overlay = false;\r\n    settingForm = {\r\n        id:'1',\r\n        logo: '' ,\r\n        reactivar_sesion : 0,\r\n        id_almacen: 0,\r\n        ver_stock_art: 0,\r\n        msj_sinstock: 0,\r\n        tipo_documento: '',\r\n        usar_stock_neg: 0,\r\n        auto_reg_clientes: 0,\r\n        filtro_categoria: false,\r\n        filtro_linea: false,\r\n        filtro_sublinea: false,\r\n        filtro_color: false,\r\n        filtro_procedencia: false,\r\n        filtro_precio: false,\r\n    }\r\n    snackbar = false\r\n    textmsj     = ''\r\n    precio      = false\r\n    color       = false\r\n    linea       = false\r\n    sublinea    = false\r\n    categoria   = false\r\n    procedencia = false\r\n    option = [\r\n        {value: '0', text: 'No'},\r\n        {value: '1', text: 'Si'}\r\n    ];\r\n    option1 = [\r\n        {value: '0', text: 'No'},\r\n        {value: '1', text: 'Si'}\r\n    ];    \r\n    data(){\r\n    return{\r\n            rules: [\r\n            (v:any) => !!v || 'Campo requerido'\r\n        ] \r\n            \r\n        }\r\n    };\r\n\r\n     get FormRequest(): any {\r\n        return serialize(this.settingForm,'configuracionesgenerales',{});\r\n    } \r\n    onFilePicked (e) {\r\n        const files = e.target.files\r\n        if(files[0] !== undefined) {\r\n            this.imageName = files[0].name\r\n            if(this.imageName.lastIndexOf('.') <= 0) {\r\n                return\r\n            }\r\n            const fr = new FileReader ()\r\n            fr.readAsDataURL(files[0])\r\n            fr.addEventListener('load', () => {\r\n                this.imageUrl = fr.result\r\n                this.imageFile = files[0]\r\n                this.settingForm.logo = this.imageFile\r\n            })\r\n        } else {\r\n            this.imageName = ''\r\n            this.imageFile = ''\r\n            this.imageUrl = ''\r\n        }\r\n    }\r\n\r\n    $refs!: {\r\n        settingForm: InstanceType<typeof ValidationObserver>;\r\n    };\r\n    async submitSetting() {\r\n        const valid = await this.$refs.settingForm.validate();\r\n        if (valid) {\r\n            this.overlay = true\r\n            const data = await settingModule.saveSetting(this.FormRequest)\r\n            this.textmsj = 'Configuración Actualizada con Éxito.'\r\n            this.snackbar = true\r\n            this.configuraciones();\r\n            this.overlay = false\r\n    \r\n        } else {\r\n            //return false\r\n        }     \r\n   \r\n    };\r\n    getAlmacenes() {   \r\n        settingModule.getAlmacenAll()\r\n        .then((res:any) =>  {\r\n            if (res) {\r\n                this.items = res;\r\n            }\r\n        }\r\n      )     \r\n    };\r\n    configuraciones() {   \r\n        this.overlay = true\r\n        settingModule.getConfiguraciones()\r\n        .then((res:any) =>  {\r\n            if (res) {\r\n                this.settingForm = res[0];\r\n                //TO-DO = 'Lógica para manipular los v-switch toggle'\r\n                this.settingForm.filtro_precio      = (res[0]['filtro_precio'] == \"0\") ? false : true\r\n                this.settingForm.filtro_categoria   = (res[0]['filtro_categoria'] == \"0\") ? false : true\r\n                this.settingForm.filtro_linea       = (res[0]['filtro_linea'] == \"0\") ? false : true\r\n                this.settingForm.filtro_sublinea    = (res[0]['filtro_sublinea'] == \"0\") ? false : true\r\n                this.settingForm.filtro_color       = (res[0]['filtro_color'] == \"0\") ? false : true\r\n                this.settingForm.filtro_procedencia = (res[0]['filtro_procedencia'] == \"0\") ? false : true\r\n                \r\n            }\r\n        this.overlay = false\r\n      }\r\n      )     \r\n    };\r\n    reset () {\r\n        if (!this.$refs.settingForm.validate()) {\r\n            this.$refs.settingForm.reset()\r\n        }  \r\n    };\r\n    mounted() {\r\n        this.getAlmacenes();\r\n        this.configuraciones();\r\n    }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .form-container{\r\n        background-color: white;\r\n        padding: 4%;\r\n        border-radius: 5px;\r\n    }\r\n    .img_prev{\r\n        float: right;\r\n        margin-top: -20px;\r\n        margin-right: 12px;\r\n        border-radius: 5px;\r\n        width:250px;\r\n    } \r\n</style>"]}]}