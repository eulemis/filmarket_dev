{"remainingRequest":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket\\src\\views\\servicios\\listaprecio\\EditarListaPrecio.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket\\src\\views\\servicios\\listaprecio\\EditarListaPrecio.vue","mtime":1637149134844},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBWdWUsIENvbXBvbmVudCwgUHJvcCwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsNCmltcG9ydCBsaXN0YVByZWNpb01vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvbGlzdGFQcmVjaW9Nb2R1bGUnOw0KaW1wb3J0IHsgcmVxdWlyZWQgfSBmcm9tICd2ZWUtdmFsaWRhdGUvZGlzdC9ydWxlcycNCmltcG9ydCB7IFZhbGlkYXRpb25PYnNlcnZlciB9IGZyb20gJ3ZlZS12YWxpZGF0ZScNCmltcG9ydCB7c2VyaWFsaXplLCBkZXNlcmlhbGl6ZSB9IGZyb20gJ2pzb25hcGktZnJhY3RhbCcNCg0KQENvbXBvbmVudCh7DQogIGNvbXBvbmVudHM6IHsNCg0KICB9DQp9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdGFyTGlzdGFQcmVjaW8gZXh0ZW5kcyBWdWUgew0KDQogICAgaXNMb2FkaW5nID0gZmFsc2U7DQogICAgbW9kZWwgPSBudWxsOw0KICAgIHNlYXJjaCA9IG51bGw7DQoJb3ZlcmxheSA9IGZhbHNlOw0KCXRpdGxlIDogc3RyaW5nID0gJyc7DQoJc3VidGl0bGUgOiBzdHJpbmcgPSAnJw0KICAgIHVwZGF0ZSA6IGJvb2xlYW4gPSBmYWxzZTsNCglsaXN0YVByZWNpb0Zvcm0gOiBhbnkgPSB7fTsNCglpbmFjdGl2byA9IFsNCiAgICAgICAge3ZhbHVlOiAnMCcsIHRleHQ6ICdJbmFjdGl2byd9LA0KICAgICAgICB7dmFsdWU6ICcxJywgdGV4dDogJ0FjdGl2byd9DQogICAgXTsNCiAgICBzbmFja2JhciA9IGZhbHNlDQogICAgdGV4dG1zaiA9ICcnDQogICAgY29sb3IgPSAnJw0KICAgIHNlY3Rpb250aXRsZSA9ICdBY3R1YWxpemFyIERhdG9zIGRlIExpc3RhJw0KICAgIG1vbmVkYXMgOiBvYmplY3QgPSBbXQ0KCSRyZWZzITogew0KICAgICAgICBsaXN0YVByZWNpb0Zvcm06IEluc3RhbmNlVHlwZTx0eXBlb2YgVmFsaWRhdGlvbk9ic2VydmVyPjsNCiAgICB9Ow0KCWdldCBGb3JtUmVxdWVzdCgpOiBhbnkgew0KICAgICAgICByZXR1cm4gc2VyaWFsaXplKHRoaXMubGlzdGFQcmVjaW9Gb3JtLCdsaXN0YXByZWNpb3MnLHt9KTsNCiAgICB9DQoNCglvblN1Ym1pdCgpIHsNCgkJY29uc3QgdmFsaWQgPSAgdGhpcy4kcmVmcy5saXN0YVByZWNpb0Zvcm0udmFsaWRhdGUoKTsNCiAgICAgDQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgdGhpcy51cGRhdGUgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy51cGRhdGVMaXN0YVByZWNpbygpOw0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICBhbGVydCgnQ2FtcG9zIEluY29tcGxldG9zJyk7DQogICAgICAgIH0gDQoJCSANCiAgICB9DQoNCglhc3luYyB1cGRhdGVMaXN0YVByZWNpbygpIHsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5Gb3JtUmVxdWVzdCkNCiAJCXRoaXMub3ZlcmxheSA9IHRydWUNCiAgICAJY29uc3QgZGF0YSA9IGF3YWl0IGxpc3RhUHJlY2lvTW9kdWxlLnVwZGF0ZUxpc3RhUHJlY2lvKHRoaXMuRm9ybVJlcXVlc3QpDQoJCXRoaXMucmVzZXQoKTsNCiAgICAgICAgdGhpcy50ZXh0bXNqID0gJ0xpc3RhIFByZWNpbyBBY3R1YWxpemFkYSBjb24gw4l4aXRvLicNCiAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWUNCiAgICAgICAgdGhpcy5iYWNrKCk7DQoJCXRoaXMub3ZlcmxheSA9IGZhbHNlIA0KICAgIH07DQoNCiAgICBhc3luYyBnZXRNb25lZGFzKCl7DQogICAgICAgIGNvbnN0IG1vbmVkYXMgOiBhbnkgPSBhd2FpdCAgbGlzdGFQcmVjaW9Nb2R1bGUuZ2V0TW9uZWRhcygpOw0KICAgICAgICB0aGlzLm1vbmVkYXMgPSBtb25lZGFzOw0KICAgIH0NCg0KICAgIGFzeW5jIGdldExpc3RhUHJlY2lvQnlJZChpZCl7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IHRydWUNCiAgICAgICAgY29uc3QgZGF0YSA6IGFueSA9IGF3YWl0ICBsaXN0YVByZWNpb01vZHVsZS5nZXRMaXN0YVByZWNpb0J5SWQoaWQpOw0KICAgICAgICB0aGlzLmxpc3RhUHJlY2lvRm9ybSA9IGRhdGE7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlDQogICAgfQ0KCXJlc2V0ICgpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5saXN0YVByZWNpb0Zvcm0ucmVzZXQoKQ0KICAgIH07DQogICAgYmFjaygpIHsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOw0KICAgICAgICB9LDIwMDApOw0KICAgIH0NCiAgICBtb3VudGVkKCl7DQogICAgICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZA0KICAgICAgICB0aGlzLmdldExpc3RhUHJlY2lvQnlJZChpZCkNCiAgICAgICAgdGhpcy5nZXRNb25lZGFzKCk7DQogICAgfQ0KCWRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICAgIHJ1bGVzOiBbDQogICAgICAgICAgICAodjphbnkpID0+ICEhdiB8fCAnQ2FtcG8gcmVxdWVyaWRvJw0KICAgICAgICBdLA0KCQllbWFpbFJ1bGVzOiBbDQoJCQl2ID0+ICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVlcmlkbycsDQoJCQl2ID0+IC8uK0AuKy8udGVzdCh2KSB8fCAnRS1tYWlsIG11c3QgYmUgdmFsaWQnLA0KCQldLA0KICAgICAgICBudW1iZXJSdWxlOiBbDQogICAgICAgICAgICB2ID0+ICEhdiB8fCAnY2FtcG8gcmVxdWVyaWRvJywNCiAgICAgICAgICAgIHYgPT4gdiA+IDAgIHx8ICdFbCB2YWxvciBkZWJlIHNlciBtYXlvciBhIGNlcm8nLA0KICAgICAgICAgICAgdiA9PiB2IDw9IDEwMCAgfHwgJ0VsIHZhbG9yIGRlYmUgc2VyIG1lbm9yIGEgMTAwJw0KICAgICAgICBdIA0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9Ow0KDQp9DQo="},{"version":3,"sources":["EditarListaPrecio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"EditarListaPrecio.vue","sourceRoot":"src/views/servicios/listaprecio","sourcesContent":["<template>\r\n    <div>\r\n\t\t<v-overlay :value=\"overlay\">\r\n            <v-progress-circular\r\n                indeterminate\r\n                size=\"64\"\r\n            ></v-progress-circular>\r\n        </v-overlay>\r\n           <v-form ref=\"listaPrecioForm\"  lazy-validation class=\"form_contacto\" >\t\r\n            <input type=\"hidden\" v-model=\"listaPrecioForm.id\" value=\"0\" >\r\n               <TitleSection :sectiontitle=\"sectiontitle\"/>\r\n                <v-row>\r\n                 \t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t<v-text-field label=\"Código Lista Precio\" placeholder=\"Código Lista Precio\" outlined dense :rules=\"rules\" v-model=\"listaPrecioForm.co_lista_precio\">\r\n                        </v-text-field>\r\n\t\t\t\t\t</v-col>\r\n           \t        <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                        <v-text-field label=\"Nombre\" placeholder=\"Nombre\" outlined dense :rules=\"rules\" v-model=\"listaPrecioForm.nombre\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                        <v-select\r\n                            :items=\"monedas\"\r\n                            item-text=\"nombre\"\r\n                            item-value=\"id\"\r\n                            label=\"Monedas\"\r\n                            placeholder=\"Monedas\"\r\n                            v-model=\"listaPrecioForm.id_moneda\"\r\n                            outlined\r\n                            dense\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-col>\r\n                </v-row>\r\n            <div class=\"mt-5 d-flex justify-end \">\r\n                <v-btn small color=\"primary mr-3\" @click=\"reset\">Limpiar</v-btn>\r\n                <v-btn small @click=\"onSubmit\" color=\"success\"  >Guardar</v-btn> \r\n            </div>\r\n        </v-form>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport listaPrecioModule from '@/store/modules/listaPrecioModule';\r\nimport { required } from 'vee-validate/dist/rules'\r\nimport { ValidationObserver } from 'vee-validate'\r\nimport {serialize, deserialize } from 'jsonapi-fractal'\r\n\r\n@Component({\r\n  components: {\r\n\r\n  }\r\n})\r\nexport default class EditarListaPrecio extends Vue {\r\n\r\n    isLoading = false;\r\n    model = null;\r\n    search = null;\r\n\toverlay = false;\r\n\ttitle : string = '';\r\n\tsubtitle : string = ''\r\n    update : boolean = false;\r\n\tlistaPrecioForm : any = {};\r\n\tinactivo = [\r\n        {value: '0', text: 'Inactivo'},\r\n        {value: '1', text: 'Activo'}\r\n    ];\r\n    snackbar = false\r\n    textmsj = ''\r\n    color = ''\r\n    sectiontitle = 'Actualizar Datos de Lista'\r\n    monedas : object = []\r\n\t$refs!: {\r\n        listaPrecioForm: InstanceType<typeof ValidationObserver>;\r\n    };\r\n\tget FormRequest(): any {\r\n        return serialize(this.listaPrecioForm,'listaprecios',{});\r\n    }\r\n\r\n\tonSubmit() {\r\n\t\tconst valid =  this.$refs.listaPrecioForm.validate();\r\n     \r\n        if (valid) {\r\n            this.update = false\r\n            this.updateListaPrecio();\r\n        }else {\r\n            alert('Campos Incompletos');\r\n        } \r\n\t\t \r\n    }\r\n\r\n\tasync updateListaPrecio() {\r\n        console.log(this.FormRequest)\r\n \t\tthis.overlay = true\r\n    \tconst data = await listaPrecioModule.updateListaPrecio(this.FormRequest)\r\n\t\tthis.reset();\r\n        this.textmsj = 'Lista Precio Actualizada con Éxito.'\r\n        this.snackbar = true\r\n        this.back();\r\n\t\tthis.overlay = false \r\n    };\r\n\r\n    async getMonedas(){\r\n        const monedas : any = await  listaPrecioModule.getMonedas();\r\n        this.monedas = monedas;\r\n    }\r\n\r\n    async getListaPrecioById(id){\r\n        this.overlay = true\r\n        const data : any = await  listaPrecioModule.getListaPrecioById(id);\r\n        this.listaPrecioForm = data;\r\n        this.overlay = false\r\n    }\r\n\treset () {\r\n        this.$refs.listaPrecioForm.reset()\r\n    };\r\n    back() {\r\n        setTimeout(() => {\r\n            this.$router.go(-1);\r\n        },2000);\r\n    }\r\n    mounted(){\r\n        let id = this.$route.params.id\r\n        this.getListaPrecioById(id)\r\n        this.getMonedas();\r\n    }\r\n\tdata(){\r\n    return{\r\n        rules: [\r\n            (v:any) => !!v || 'Campo requerido'\r\n        ],\r\n\t\temailRules: [\r\n\t\t\tv => !!v || 'E-mail is requerido',\r\n\t\t\tv => /.+@.+/.test(v) || 'E-mail must be valid',\r\n\t\t],\r\n        numberRule: [\r\n            v => !!v || 'campo requerido',\r\n            v => v > 0  || 'El valor debe ser mayor a cero',\r\n            v => v <= 100  || 'El valor debe ser menor a 100'\r\n        ] \r\n            \r\n        }\r\n    };\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.form_contacto{\r\n    background: white;\r\n    padding: 5%;\r\n    border-radius: 8px;\r\n}\r\n</style>\r\n"]}]}