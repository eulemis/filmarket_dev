{"remainingRequest":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\filmarket\\filmarket_dev\\src\\components\\UploadFileMultiple.vue?vue&type=style&index=0&id=30763ffd&scoped=true&lang=css&","dependencies":[{"path":"C:\\filmarket\\filmarket_dev\\src\\components\\UploadFileMultiple.vue","mtime":1647899501540},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKKnttYXJnaW46MCBhdXRvO3BhZGRpbmc6MDtmb250LWZhbWlseToiTWljcm9zb2Z0IFlhaGVpIjt9Ci5jbGVhcmJvdGg6OmFmdGVyewogICAgY29udGVudDoiIjsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICBjbGVhcjpib3RoOwp9Ci5pbWFnZS12aWV3ewogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgZmxleC13cmFwOiB3cmFwOwogICAgd2lkdGg6IDE7CiAgICBtYXJnaW46IDUwcHggYXV0bzsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7CiAgICBwYWRkaW5nOiAxOHB4OwogICAgYm9yZGVyOiAgM3B4IGRhc2hlZCAjY2NjOwogICAgCn0KLmltYWdlLXZpZXcgLmFkZGJveHsKICAgIGZsb2F0OmxlZnQ7CiAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgIGhlaWdodDoxMDBweDsKICAgIHdpZHRoOjEwMHB4OwogICAgbWFyZ2luLWJvdHRvbToyMHB4OwogICAgdGV4dC1hbGlnbjpjZW50ZXI7Cn0KLmltYWdlLXZpZXcgLmFkZGJveCBpbnB1dHsKICAgIHBvc2l0aW9uOmFic29sdXRlOwogICAgbGVmdDowOwogICAgaGVpZ2h0OjEwMHB4OwogICAgd2lkdGg6MTAwcHg7CiAgICBvcGFjaXR5OjA7IAp9Ci5pbWFnZS12aWV3IC5hZGRib3ggLmFkZGJ0bnsKICAgIGZsb2F0OmxlZnQ7CiAgICBoZWlnaHQ6MTAwcHg7CiAgICB3aWR0aDoxMDBweDsKICAgIGxpbmUtaGVpZ2h0OjEwMHB4OwogICAgY29sb3I6YmxhY2s7CiAgICBmb250LXNpemU6NDBweDsKICAgIGJhY2tncm91bmQ6I2ZmZjsKICAgIGJvcmRlci1yYWRpdXM6MTBweDsKICAgIG1hcmdpbi10b3A6MTBweDsKfQouaW1hZ2UtdmlldyAuaXRlbSB7CiAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgIGZsb2F0OmxlZnQ7CiAgICBoZWlnaHQ6MTAwcHg7Ci8qICAgICB3aWR0aDoxMDBweDsgKi8KICAgIG1hcmdpbjoxMHB4IDEwcHggMCAwOwp9Ci5pbWFnZS12aWV3IC5pdGVtIC5jYW5jZWwtYnRuewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IC00cHg7CiAgICB0b3A6IC0ycHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgY29sb3I6ICNmZmY7CiAgICBsaW5lLWhlaWdodDogMjBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJhY2tncm91bmQ6IHJlZDsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmltYWdlLXZpZXcgLml0ZW0gLmNoZWNrX2J0bnsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIGJvdHRvbTogMDsKICAgIGxlZnQ6IDBweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDI1cHg7CiAgICBjb2xvcjogZ3JlZW47CiAgICBmb250LXdlaWdodDogNjAwOwogICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kOiByZ2IoMTc4IDIyOCAyMDIpOwogICAgYm9yZGVyLXJhZGl1czogMHB4IDBweCA1cHggNXB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAKfQogLnBfdGV4dG97CiAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYm90dG9tOiAwOwogICAgbGVmdDogMHB4OwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMjVweDsKICAgIGNvbG9yOiAjZmZmOwogICAgbGluZS1oZWlnaHQ6IDIwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kOiByZ2IoMTM2LCAyMDcsIDE4NCk7CiAgICBib3JkZXItcmFkaXVzOiAwcHggMHB4IDVweCA1cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KLmltYWdlLXZpZXcgLml0ZW0gaW1newogICAgd2lkdGg6MTAwJTsKICAgIGhlaWdodDoxMDAlOwogICAgYm9yZGVyLXJhZGl1czo1cHg7CiAgICBjdXJzb3I6cG9pbnRlcjsKfQouaW1hZ2UtdmlldyAudmlld3sKICAgIGNsZWFyOmJvdGg7Cn0KLm1iLTV7CiAgICBmbG9hdDogcmlnaHQ7Cn0KQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNjQwcHgpIHsKICAgIC5pbWFnZS12aWV3IC52aWV3ewogICAgICAgIGRpc3BsYXk6IGdyaWQ7CiAgICB9Cn0KLm1vdmluZy1jYXJkIHsKICAgIEBhcHBseSBvcGFjaXR5LTUwIGJnLWdyYXktMTAwIGJvcmRlciBib3JkZXItYmx1ZS01MDA7Cn0KCg=="},{"version":3,"sources":["UploadFileMultiple.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadFileMultiple.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <v-overlay :value=\"overlay\">\r\n            <v-progress-circular\r\n                indeterminate\r\n                size=\"64\"\r\n            ></v-progress-circular>\r\n        </v-overlay>\r\n        <div class=\"image-view\">\r\n            <div class=\"addbox\">\r\n                <input type=\"file\" @change=\"getImgBase()\"  id=\"uploadfiles\" name=\"uploadfiles[]\" ref=\"uploadfiles\" multiple=\"multiple\" >\r\n                <div class=\"addbtn\"><i class='fa fa-cloud-upload'></i></div>\r\n            </div>\r\n       \r\n                <Draggable  \r\n                    v-if=\"dataUpload.length > 0\"  \r\n                    class=\"w-full max-w-md\" \r\n                    ghost-class=\"moving-card\" \r\n                    :animation=\"200\" \r\n                    :move=\"checkMove\"\r\n                    @start=\"start\"\r\n                    @end=\"end\"\r\n                    :list=\"dataUpload\"\r\n                >\r\n                    <div class=\"item\" v-for=\"(item, index) in dataUpload\" :key=\"index\">\r\n                        <span class=\"cancel-btn\" @click=\"delImg(index)\"><i class=\"fa fa-trash\"></i></span>\r\n                        <span v-if=\"index == 0 \" :class=\"{ check_btn : index == 0 }\">PORTADA</span>\r\n                        <img @click=\"selectImage(index)\" :src=\"urlImg(item)\">\r\n                    </div>\r\n                </Draggable>\r\n           \r\n        </div>\r\n        <div class=\"mb-5\">\r\n            <v-btn small @click=\"deleteAll()\" color=\"primary mr-3\" >Limpiar</v-btn>\r\n            <v-btn small @click=\"uploadFile()\" color=\"success\"  >Actualizar</v-btn> \r\n        </div>\r\n        <Notificacion :snackbar=\"snackbar\" :textmsj=\"textmsj\"/>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    import articuloModule  from '@/store/modules/articuloModule';\r\n    import storageData from '@/store/services/storageService'\r\n    import Draggable from 'vuedraggable'\r\n    export default {\r\n        name: 'imageView',\r\n        props:['id'],\r\n        components:{\r\n            Draggable\r\n        },\r\n        data (){\r\n            return {\r\n                image:'',\r\n                dataUpload:[],\r\n                dataSubmit:{\r\n                formdata : {},\r\n                    id   : 0\r\n                },\r\n                overlay : false,\r\n                snackbar : false,\r\n                textmsj : '',\r\n                color : '',\r\n                showImage: false,\r\n                isActive:'',               \r\n            }\r\n        },\r\n        methods: { \r\n            urlImg: function(img){\r\n                return URL.createObjectURL(img);\r\n            },\r\n            start: function (evt) {\r\n                //console.log(\"start\", evt)\r\n            },\r\n            end: function (evt) {\r\n            \r\n            },\r\n            checkMove: function(e) {\r\n\r\n            },\r\n\r\n            getImgBase(){  \r\n                 const _this = this\r\n                var event = event || window.event;\r\n                var files = event.target.files;\r\n               \r\n                for (let i = 0; i < files.length; i++) {\r\n                    const reader = new FileReader()\r\n                    _this.dataUpload.push(files[i]);\r\n                }\r\n               \r\n            },\r\n            \r\n            selectImage(index){\r\n                this.isActive = index \r\n            },\r\n            delImg(index){\r\n                this.dataUpload.splice(index,1);\r\n            },\r\n            deleteAll(){\r\n                this.dataUpload = [];\r\n            },\r\n            async uploadFile(){ \r\n                this.overlay = true\r\n                const _this = this \r\n                let formData = new FormData();\r\n                var files = this.dataUpload;\r\n                var totalfiles = this.dataUpload.length; \r\n            \r\n                for (var i = 0; i < totalfiles; i++) { \r\n                    formData.append(\"fotos[]\", files[i]);\r\n                }\r\n       \r\n                this.dataSubmit.formdata = formData\r\n                this.dataSubmit.id       = this.id\r\n                const data = await articuloModule.updateArticulo(this.dataSubmit);\r\n                this.textmsj = 'Imagenes Subidas con Ã‰xito.'\r\n                this.color = 'success'\r\n                this.snackbar = true\r\n                this.dataUpload = [];\r\n                this.back()\r\n                this.overlay = false  \r\n            },\r\n            back() {\r\n                setTimeout(() => {\r\n                    this.$router.go(-1);\r\n                    this.snackbar = false\r\n                },2000);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n    *{margin:0 auto;padding:0;font-family:\"Microsoft Yahei\";}\r\n    .clearboth::after{\r\n        content:\"\";\r\n        display:block;\r\n        clear:both;\r\n    }\r\n    .image-view{\r\n        display: flex;\r\n        align-items: center;\r\n        flex-direction: column;\r\n        flex-wrap: wrap;\r\n        width: 1;\r\n        margin: 50px auto;\r\n        background-color: #f6f6f6;\r\n        padding: 18px;\r\n        border:  3px dashed #ccc;\r\n        \r\n    }\r\n    .image-view .addbox{\r\n        float:left;\r\n        position:relative;\r\n        height:100px;\r\n        width:100px;\r\n        margin-bottom:20px;\r\n        text-align:center;\r\n    }\r\n    .image-view .addbox input{\r\n        position:absolute;\r\n        left:0;\r\n        height:100px;\r\n        width:100px;\r\n        opacity:0; \r\n    }\r\n    .image-view .addbox .addbtn{\r\n        float:left;\r\n        height:100px;\r\n        width:100px;\r\n        line-height:100px;\r\n        color:black;\r\n        font-size:40px;\r\n        background:#fff;\r\n        border-radius:10px;\r\n        margin-top:10px;\r\n    }\r\n    .image-view .item {\r\n        position:relative;\r\n        float:left;\r\n        height:100px;\r\n    /*     width:100px; */\r\n        margin:10px 10px 0 0;\r\n    }\r\n    .image-view .item .cancel-btn{\r\n        position: absolute;\r\n        right: -4px;\r\n        top: -2px;\r\n        display: block;\r\n        width: 20px;\r\n        height: 20px;\r\n        color: #fff;\r\n        line-height: 20px;\r\n        text-align: center;\r\n        background: red;\r\n        border-radius: 10px;\r\n        cursor: pointer;\r\n    }\r\n    .image-view .item .check_btn{\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0px;\r\n        display: block;\r\n        width: 100%;\r\n        height: 25px;\r\n        color: green;\r\n        font-weight: 600;\r\n        line-height: 20px;\r\n        text-align: center;\r\n        background: rgb(178 228 202);\r\n        border-radius: 0px 0px 5px 5px;\r\n        cursor: pointer;\r\n       \r\n    }\r\n     .p_texto{\r\n         position: absolute;\r\n        bottom: 0;\r\n        left: 0px;\r\n        display: block;\r\n        width: 100%;\r\n        height: 25px;\r\n        color: #fff;\r\n        line-height: 20px;\r\n        text-align: center;\r\n        background: rgb(136, 207, 184);\r\n        border-radius: 0px 0px 5px 5px;\r\n        cursor: pointer;\r\n    }\r\n    .image-view .item img{\r\n        width:100%;\r\n        height:100%;\r\n        border-radius:5px;\r\n        cursor:pointer;\r\n    }\r\n    .image-view .view{\r\n        clear:both;\r\n    }\r\n    .mb-5{\r\n        float: right;\r\n    }\r\n    @media screen and (max-width: 640px) {\r\n        .image-view .view{\r\n            display: grid;\r\n        }\r\n    }\r\n    .moving-card {\r\n        @apply opacity-50 bg-gray-100 border border-blue-500;\r\n    }\r\n   \r\n</style>"]}]}