{"remainingRequest":"C:\\frontend\\filmarket\\node_modules\\babel-loader\\lib\\index.js!C:\\frontend\\filmarket\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\frontend\\filmarket\\src\\store\\modules\\settingModule.ts","dependencies":[{"path":"C:\\frontend\\filmarket\\src\\store\\modules\\settingModule.ts","mtime":1642730861291},{"path":"C:\\frontend\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\frontend\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":59851904000},{"path":"C:\\frontend\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L2Zyb250ZW5kL2ZpbG1hcmtldC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzovZnJvbnRlbmQvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovZnJvbnRlbmQvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovZnJvbnRlbmQvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiQzovZnJvbnRlbmQvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IGdldE1vZHVsZSwgTW9kdWxlLCBNdXRhdGlvbiwgQWN0aW9uLCBWdWV4TW9kdWxlIH0gZnJvbSAndnVleC1tb2R1bGUtZGVjb3JhdG9ycyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgaHR0cCB9IGZyb20gJ0AvdXRpbHMvaHR0cCc7CmltcG9ydCB7IGRlc2VyaWFsaXplIH0gZnJvbSAnanNvbmFwaS1mcmFjdGFsJzsKCnZhciBzZXR0aW5nTW9kdWxlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVleE1vZHVsZSkgewogIF9pbmhlcml0cyhzZXR0aW5nTW9kdWxlLCBfVnVleE1vZHVsZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoc2V0dGluZ01vZHVsZSk7CgogIGZ1bmN0aW9uIHNldHRpbmdNb2R1bGUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIHNldHRpbmdNb2R1bGUpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy50b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfdG9rZW4nKTsKICAgIF90aGlzLmFsbWFjZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2V0QWxtYWNlbicpOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKHNldHRpbmdNb2R1bGUsIFt7CiAgICBrZXk6ICJzZXRBbG1hY2VuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBbG1hY2VuKGFsbWFjZW4pIHsKICAgICAgdGhpcy5hbG1hY2VuID0gYWxtYWNlbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzYXZlU2V0dGluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NhdmVTZXR0aW5nID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRhdGFTZXR0aW5nKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciAnICsgdGhpcy50b2tlbjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGh0dHAucGF0Y2goJy9jb25maWd1cmFjaW9uZXNnZW5lcmFsZXMvMScsIGRhdGFTZXR0aW5nLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAiQ29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3ZuZC5hcGkranNvbiIsCiAgICAgICAgICAgICAgICAgICAgIkFjY2VwdCI6ICdhcHBsaWNhdGlvbi92bmQuYXBpK2pzb24nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5zdGF0dXMgPT09IDIwMCkge30KICAgICAgICAgICAgICAgICAgfSBlbHNlIHt9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge30pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBkYXRhU2V0dGluZyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzYXZlU2V0dGluZyhfeCkgewogICAgICAgIHJldHVybiBfc2F2ZVNldHRpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmVTZXR0aW5nOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiZ2V0QWxtYWNlbkFsbCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QWxtYWNlbkFsbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIF90aGlzMi50b2tlbjsKICAgICAgICBodHRwLmdldCgnL2FsbWFjZW5lcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHZhciBpdGVtID0gW107CiAgICAgICAgICAgIGl0ZW0gPSBkZXNlcmlhbGl6ZShyZXNwb25zZS5kYXRhLCB7CiAgICAgICAgICAgICAgY2hhbmdlQ2FzZTogJ2NhbWVsQ2FzZScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8qcmVzcG9uc2UuZGF0YS5kYXRhLm1hcChmdW5jdGlvbiAodmFsdWU6YW55LCBrZXk6YW55KSB7DQogICAgICAgICAgICBpdGVtLnB1c2godmFsdWUuYXR0cmlidXRlcyk7DQogICAgICAgICAgICB9KTsgICovCgogICAgICAgICAgICByZXNvbHZlKGl0ZW0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q29uZmlndXJhY2lvbmVzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb25maWd1cmFjaW9uZXMoKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgLy9odHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0aGlzLnRva2VuOwogICAgICAgIGh0dHAuZ2V0KCcvY29uZmlndXJhY2lvbmVzZ2VuZXJhbGVzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgaXRlbSA9IFtdOwogICAgICAgICAgICBpdGVtID0gZGVzZXJpYWxpemUocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBzZXR0aW5nTW9kdWxlOwp9KFZ1ZXhNb2R1bGUpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBzZXR0aW5nTW9kdWxlLnByb3RvdHlwZSwgInNldEFsbWFjZW4iLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIHNldHRpbmdNb2R1bGUucHJvdG90eXBlLCAic2F2ZVNldHRpbmciLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIHNldHRpbmdNb2R1bGUucHJvdG90eXBlLCAiZ2V0QWxtYWNlbkFsbCIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgc2V0dGluZ01vZHVsZS5wcm90b3R5cGUsICJnZXRDb25maWd1cmFjaW9uZXMiLCBudWxsKTsKCnNldHRpbmdNb2R1bGUgPSBfX2RlY29yYXRlKFtNb2R1bGUoewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgbmFtZTogJ3NldHRpbmcnLAogIHN0b3JlOiBzdG9yZSwKICBkeW5hbWljOiB0cnVlCn0pXSwgc2V0dGluZ01vZHVsZSk7CmV4cG9ydCBkZWZhdWx0IGdldE1vZHVsZShzZXR0aW5nTW9kdWxlKTs="},{"version":3,"sources":["C:\\frontend\\filmarket\\src\\store\\modules\\settingModule.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  getModule,\r\n  Module,\r\n  MutationAction,\r\n  Mutation,\r\n  Action,\r\n  VuexModule,\r\n} from 'vuex-module-decorators';\r\nimport store from '@/store';\r\nimport { Setting } from '../interfaces/Setting';\r\nimport { UserToken } from '../interfaces/UserToken';\r\nimport { http } from '@/utils/http';\r\nimport { deserialize } from 'jsonapi-fractal'\r\n\r\n@Module({\r\n  namespaced: true,\r\n  name: 'setting',\r\n  store,\r\n  dynamic: true,\r\n})\r\n\r\nclass settingModule extends VuexModule {\r\n\r\n  token: string | null = localStorage.getItem('_token');\r\n  almacen: string | null = localStorage.getItem('setAlmacen');\r\n\r\n  @Mutation\r\n  setAlmacen(almacen: string) {\r\n    this.almacen = almacen;\r\n  }\r\n\r\n  @Action\r\n  async saveSetting(dataSetting: Setting) { \r\n    http.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n    await http\r\n      .patch('/configuracionesgenerales/1', dataSetting,\r\n      {\r\n        headers: {\r\n          \"Content-type\": \"application/vnd.api+json\",\r\n          \"Accept\" : 'application/vnd.api+json'\r\n        }\r\n      })\r\n      .then((payload: any) => {\r\n\r\n        if (payload) {\r\n          if (payload.status === 200) {\r\n            \r\n          }\r\n        } else {\r\n       \r\n        }\r\n      })\r\n      .catch((e) => {\r\n      \r\n      });\r\n   \r\n    return dataSetting;\r\n  }\r\n\r\n  \t@Action\r\n  \tgetAlmacenAll() {\r\n    \treturn new Promise((resolve, reject) => {\r\n      \thttp.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n      \thttp.get('/almacenes')\r\n        .then(response => {\r\n          console.log(response)\r\n          \tif (response.status === 200) {\r\n\t\t\t\t  \r\n\t\t\t\tlet item : any = [];\r\n        \t\titem = deserialize(response.data,{changeCase:'camelCase'})\r\n\t\t\t\t\t/*response.data.data.map(function (value:any, key:any) {\r\n\t\t\t\t\titem.push(value.attributes);\t\t\r\n\t\t\t\t\t});  */\r\n\t\t\t\tresolve(item);\r\n            \t\r\n          \t}\r\n\r\n        })\r\n        .catch(error => {\r\n\r\n          reject(error)\r\n        })\r\n    })\r\n  }\r\n  @Action\r\n  \tgetConfiguraciones() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t//http.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n\t\thttp.get('/configuracionesgenerales')\r\n\t\t.then(response => {\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tlet item : any = [];\r\n\t\t\t\titem = deserialize(response.data)\r\n\t\t\t\tresolve(item);\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t\t.catch(error => {\r\n\r\n\t\t\treject(error)\r\n\t\t})\r\n\t})\r\n\t}\r\n  \r\n}\r\nexport default getModule(settingModule);\r\n"],"sourceRoot":""}]}