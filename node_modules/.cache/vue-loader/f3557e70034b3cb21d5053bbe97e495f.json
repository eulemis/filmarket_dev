{"remainingRequest":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket\\src\\views\\servicios\\vendedor\\EditarVendedor.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket\\src\\views\\servicios\\vendedor\\EditarVendedor.vue","mtime":1637677897718},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOw0KaW1wb3J0IHZlbmRlZG9yTW9kdWxlIGZyb20gJ0Avc3RvcmUvbW9kdWxlcy92ZW5kZWRvck1vZHVsZSc7DQppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3ZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzJw0KaW1wb3J0IHsgVmFsaWRhdGlvbk9ic2VydmVyIH0gZnJvbSAndmVlLXZhbGlkYXRlJw0KaW1wb3J0IHtzZXJpYWxpemUsIGRlc2VyaWFsaXplIH0gZnJvbSAnanNvbmFwaS1mcmFjdGFsJw0KDQpAQ29tcG9uZW50KHsNCiAgY29tcG9uZW50czogew0KDQogIH0NCn0pDQpleHBvcnQgZGVmYXVsdCBjbGFzcyBFZGl0YXJDb250YWN0byBleHRlbmRzIFZ1ZSB7DQoJQFByb3AoKSBjbGllbnRlcz86IGFueTsNCglAUHJvcCgpIGVkaXREYXRhPzogT2JqZWN0Ow0KCWRlc2NyaXB0aW9uTGltaXQgPSA2MDsNCgllbnRyaWVzID0gW107DQoJZGF0YVNlYXJjaENsaWVudGUgOiBhbnkgPSBbXTsNCiAgICBpc0xvYWRpbmcgPSBmYWxzZTsNCiAgICBtb2RlbCA9IG51bGw7DQogICAgc2VhcmNoID0gbnVsbDsNCglvdmVybGF5ID0gZmFsc2U7DQoJdGl0bGUgOiBzdHJpbmcgPSAnQWN0dWFsaXphciBEYXRvcyBkZWwgVmVuZGVkb3InOw0KCXN1YnRpdGxlIDogc3RyaW5nID0gJycNCiAgICB1cGRhdGUgOiBib29sZWFuID0gZmFsc2U7DQoJdmVuZGVkb3JGb3JtIDogYW55ID0ge307DQogICAgc25hY2tiYXIgPSBmYWxzZQ0KICAgIHRleHRtc2ogPSAnJw0KICAgIGNvbG9yID0gJycNCiAgICBzZWN0aW9udGl0bGUgPSAnQWN0dWFsaXphciBEYXRvcyBWZW5kZWRvcicNCiAgICBsaXN0YXByZWNpb3MgPSBbXQ0KCWluYWN0aXZvID0gWw0KICAgICAgICB7dmFsdWU6ICcwJywgdGV4dDogJ0luYWN0aXZvJ30sDQogICAgICAgIHt2YWx1ZTogJzEnLCB0ZXh0OiAnQWN0aXZvJ30NCiAgICBdOw0KCSRyZWZzITogew0KICAgICAgICB2ZW5kZWRvckZvcm06IEluc3RhbmNlVHlwZTx0eXBlb2YgVmFsaWRhdGlvbk9ic2VydmVyPjsNCiAgICB9Ow0KCWdldCBGb3JtUmVxdWVzdCgpOiBhbnkgew0KICAgICAgICByZXR1cm4gc2VyaWFsaXplKHRoaXMudmVuZGVkb3JGb3JtLCd2ZW5kZWRvcmVzJyx7fSk7DQogICAgfQ0KDQogICAgY29uZmlybSgpOiBhbnkgew0KCQl0aGlzLnVwZGF0ZSA9IHRydWUNCgl9IA0KICAgIA0KCW9uU3VibWl0KCkgew0KCQljb25zdCB2YWxpZCA9ICB0aGlzLiRyZWZzLnZlbmRlZG9yRm9ybS52YWxpZGF0ZSgpOw0KICAgICANCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLnVwZGF0ZVZlbmRlZG9yKCk7DQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgIGFsZXJ0KCdDYW1wb3MgSW5jb21wbGV0b3MnKTsNCiAgICAgICAgfSANCgkJIA0KICAgIH0NCg0KCWFzeW5jIHVwZGF0ZVZlbmRlZG9yKCkgew0KCQl0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgCWNvbnN0IGRhdGEgPSBhd2FpdCB2ZW5kZWRvck1vZHVsZS51cGRhdGVWZW5kZWRvcih0aGlzLkZvcm1SZXF1ZXN0KQ0KCQl0aGlzLnJlc2V0KCk7DQogICAgICAgIHRoaXMudGV4dG1zaiA9ICdDb250YWN0byBBY3R1YWxpemFkbyBjb24gw4l4aXRvLicNCiAgICAgICAgdGhpcy5jb2xvciA9ICdzdWNjZXNzJw0KICAgICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZQ0KICAgICAgICB0aGlzLmJhY2soKTsNCgkJdGhpcy5vdmVybGF5ID0gZmFsc2UNCiAgICB9Ow0KICAgIGFzeW5jIGdldExpc3RhUHJlY2lvcygpew0KICAgICAgICBjb25zdCBsaXN0YXByZWNpbyA6IGFueSA9IGF3YWl0ICB2ZW5kZWRvck1vZHVsZS5nZXRMaXN0YVByZWNpb3NBbGwoKTsNCiAgICAgICAgdGhpcy5saXN0YXByZWNpb3MgPSBsaXN0YXByZWNpbzsNCiAgICB9DQoJcmVzZXQgKCkgew0KICAgICAgICB0aGlzLiRyZWZzLnZlbmRlZG9yRm9ybS5yZXNldCgpDQogICAgfTsNCiAgICBiYWNrKCkgew0KICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7DQogICAgICAgICAgICB0aGlzLnNuYWNrYmFyID0gZmFsc2UNCiAgICAgICAgfSwyMDAwKTsNCiAgICB9DQogICAgYXN5bmMgZ2V0VmVuZGVkb3JCeUlkKGlkKSB7DQogICAgICAgIHRoaXMub3ZlcmxheSA9IHRydWUNCiAgICAgICAgY29uc3QgZGF0YSA6IGFueSA9IGF3YWl0IHZlbmRlZG9yTW9kdWxlLmdldFZlbmRlZG9yQnlJZChpZCkNCiAgICAgICAgdGhpcy52ZW5kZWRvckZvcm0gPSBkYXRhOw0KICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZQ0KICAgIH0NCg0KCWRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICAgIHJ1bGVzOiBbDQogICAgICAgICAgICAodjphbnkpID0+ICEhdiB8fCAnQ2FtcG8gcmVxdWVyaWRvJw0KICAgICAgICBdLA0KCQllbWFpbFJ1bGVzOiBbDQoJCQl2ID0+ICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVlcmlkbycsDQoJCQl2ID0+IC8uK0AuKy8udGVzdCh2KSB8fCAnRS1tYWlsIG11c3QgYmUgdmFsaWQnLA0KCQldLA0KICAgICAgICBudW1iZXJSdWxlOiBbDQogICAgICAgICAgICB2ID0+ICEhdiB8fCAnY2FtcG8gcmVxdWVyaWRvJywNCiAgICAgICAgICAgIHYgPT4gdiA+IDAgIHx8ICdFbCB2YWxvciBkZWJlIHNlciBtYXlvciBhIGNlcm8nLA0KICAgICAgICAgICAgdiA9PiB2IDw9IDEwMCAgfHwgJ0VsIHZhbG9yIGRlYmUgc2VyIG1lbm9yIGEgMTAwJw0KICAgICAgICBdIA0KICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9Ow0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgbGV0IGlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkDQogICAgICAgIHRoaXMuZ2V0VmVuZGVkb3JCeUlkKGlkKTsNCiAgICAgICAgdGhpcy5nZXRMaXN0YVByZWNpb3MoKTsNCiAgICAgICAvKiAgdGhpcy5kYXRhU2VhcmNoQ2xpZW50ZSAgPSBbeyBpZDogJzAnLCByYXpvblNvY2lhbDogJ0luYWN0aXZvJyxzZWxlY3RlZDonc2VsZWN0ZWQnfV0gKi8NCiAgICAgICANCiAgICB9DQp9DQo="},{"version":3,"sources":["EditarVendedor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"EditarVendedor.vue","sourceRoot":"src/views/servicios/vendedor","sourcesContent":["<template>\r\n    <div>\r\n\t\t<v-overlay :value=\"overlay\">\r\n            <v-progress-circular\r\n                indeterminate\r\n                size=\"64\"\r\n            ></v-progress-circular>\r\n        </v-overlay>\r\n        <v-form ref=\"vendedorForm\"  lazy-validation class=\"form_contacto\" >\t\r\n            <input type=\"hidden\" v-model=\"vendedorForm.id\" value=\"0\" >\r\n                <TitleSection :sectiontitle=\"sectiontitle\"/>\r\n                <v-row>\r\n                 \t<v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n\t\t\t\t\t\t<v-text-field label=\"Código Vendedor\" placeholder=\"Código Vendedor\" outlined dense :rules=\"rules\" v-model=\"vendedorForm.co_vendedor\">\r\n                        </v-text-field>\r\n\t\t\t\t\t</v-col>\r\n           \t        <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Nombre Completo\" placeholder=\"Nombre Completo\" outlined dense :rules=\"rules\" v-model=\"vendedorForm.nombre_completo\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Cédula\" placeholder=\"Cédula\" outlined dense :rules=\"rules\" v-model=\"vendedorForm.cedula\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Email\" placeholder=\"Email\" outlined dense :rules=\"emailRules\" v-model=\"vendedorForm.email\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Teléfono\" placeholder=\"Teléfono\" outlined dense :rules=\"rules\" v-model=\"vendedorForm.telefono\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n              \r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Porcentaje por comisión de Venta\"  type=\"number\" placeholder=\"Porcentaje por comisión de Venta\" outlined dense :rules=\"numberRule\" v-model=\"vendedorForm.porcentaje_comision_venta\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-text-field label=\"Porcentaje por comisión de Cobro\"  type=\"number\" placeholder=\"Porcentaje por comisión de Cobro\" outlined dense :rules=\"numberRule\" v-model=\"vendedorForm.porcentaje_comision_cobro\">\r\n                        </v-text-field>\r\n                    </v-col>\r\n                    <!--v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                        <v-select\r\n                            :items=\"inactivo\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Estatus\"\r\n                            placeholder=\"Estatus\"\r\n                            v-model=\"vendedorForm.estatus\"\r\n                            outlined\r\n                            dense\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-col-->\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n                    \t\t<v-select\r\n                            :items=\"listaprecios\"\r\n                            item-text=\"nombre\"\r\n                            item-value=\"id\"\r\n                            label=\"Lista de Precios\"\r\n                            placeholder=\"Lista de Precios\"\r\n                            v-model=\"vendedorForm.id_lista_precios\"\r\n                            outlined\r\n                            dense\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"9\" md=\"9\">\r\n                    \t <v-textarea\r\n\t\t\t\t\t\t\tlabel=\"Dirección\"\r\n\t\t\t\t\t\t\tplaceholder=\"Dirección\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"vendedorForm.direccion\"\r\n                            rows=\"3\"\r\n\t\t\t\t\t\t></v-textarea>\r\n                    </v-col>\r\n            </v-row>\r\n            <div class=\"mt-5 d-flex justify-end \">\r\n                <v-btn small color=\"error mr-3\" @click=\"back()\">Cancelar</v-btn>\r\n                <v-btn small color=\"primary mr-3\" @click=\"reset\">Limpiar</v-btn>\r\n                <v-btn small @click=\"onSubmit\" color=\"success\"  >Guardar</v-btn> \r\n            </div>\r\n        </v-form>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { Vue, Component, Prop, Watch } from 'vue-property-decorator';\r\nimport vendedorModule from '@/store/modules/vendedorModule';\r\nimport { required } from 'vee-validate/dist/rules'\r\nimport { ValidationObserver } from 'vee-validate'\r\nimport {serialize, deserialize } from 'jsonapi-fractal'\r\n\r\n@Component({\r\n  components: {\r\n\r\n  }\r\n})\r\nexport default class EditarContacto extends Vue {\r\n\t@Prop() clientes?: any;\r\n\t@Prop() editData?: Object;\r\n\tdescriptionLimit = 60;\r\n\tentries = [];\r\n\tdataSearchCliente : any = [];\r\n    isLoading = false;\r\n    model = null;\r\n    search = null;\r\n\toverlay = false;\r\n\ttitle : string = 'Actualizar Datos del Vendedor';\r\n\tsubtitle : string = ''\r\n    update : boolean = false;\r\n\tvendedorForm : any = {};\r\n    snackbar = false\r\n    textmsj = ''\r\n    color = ''\r\n    sectiontitle = 'Actualizar Datos Vendedor'\r\n    listaprecios = []\r\n\tinactivo = [\r\n        {value: '0', text: 'Inactivo'},\r\n        {value: '1', text: 'Activo'}\r\n    ];\r\n\t$refs!: {\r\n        vendedorForm: InstanceType<typeof ValidationObserver>;\r\n    };\r\n\tget FormRequest(): any {\r\n        return serialize(this.vendedorForm,'vendedores',{});\r\n    }\r\n\r\n    confirm(): any {\r\n\t\tthis.update = true\r\n\t} \r\n    \r\n\tonSubmit() {\r\n\t\tconst valid =  this.$refs.vendedorForm.validate();\r\n     \r\n        if (valid) {\r\n            this.update = false\r\n            this.updateVendedor();\r\n        }else {\r\n            alert('Campos Incompletos');\r\n        } \r\n\t\t \r\n    }\r\n\r\n\tasync updateVendedor() {\r\n\t\tthis.overlay = true\r\n    \tconst data = await vendedorModule.updateVendedor(this.FormRequest)\r\n\t\tthis.reset();\r\n        this.textmsj = 'Contacto Actualizado con Éxito.'\r\n        this.color = 'success'\r\n        this.snackbar = true\r\n        this.back();\r\n\t\tthis.overlay = false\r\n    };\r\n    async getListaPrecios(){\r\n        const listaprecio : any = await  vendedorModule.getListaPreciosAll();\r\n        this.listaprecios = listaprecio;\r\n    }\r\n\treset () {\r\n        this.$refs.vendedorForm.reset()\r\n    };\r\n    back() {\r\n        setTimeout(() => {\r\n            this.$router.go(-1);\r\n            this.snackbar = false\r\n        },2000);\r\n    }\r\n    async getVendedorById(id) {\r\n        this.overlay = true\r\n        const data : any = await vendedorModule.getVendedorById(id)\r\n        this.vendedorForm = data;\r\n        this.overlay = false\r\n    }\r\n\r\n\tdata(){\r\n    return{\r\n        rules: [\r\n            (v:any) => !!v || 'Campo requerido'\r\n        ],\r\n\t\temailRules: [\r\n\t\t\tv => !!v || 'E-mail is requerido',\r\n\t\t\tv => /.+@.+/.test(v) || 'E-mail must be valid',\r\n\t\t],\r\n        numberRule: [\r\n            v => !!v || 'campo requerido',\r\n            v => v > 0  || 'El valor debe ser mayor a cero',\r\n            v => v <= 100  || 'El valor debe ser menor a 100'\r\n        ] \r\n            \r\n        }\r\n    };\r\n    mounted(){\r\n        let id = this.$route.params.id\r\n        this.getVendedorById(id);\r\n        this.getListaPrecios();\r\n       /*  this.dataSearchCliente  = [{ id: '0', razonSocial: 'Inactivo',selected:'selected'}] */\r\n       \r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.form_contacto{\r\n    background: white;\r\n    padding: 5%;\r\n    border-radius: 8px;\r\n}\r\n</style>\r\n"]}]}