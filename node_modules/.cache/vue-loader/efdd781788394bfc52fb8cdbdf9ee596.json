{"remainingRequest":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\filmarket\\filmarket_dev\\src\\views\\servicios\\articulos\\EditarArticulo.vue?vue&type=style&index=0&id=3d423959&lang=scss&scoped=true&","dependencies":[{"path":"C:\\filmarket\\filmarket_dev\\src\\views\\servicios\\articulos\\EditarArticulo.vue","mtime":1646158292759},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0IHVybCgiaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC43LjAvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIik7Cgo="},{"version":3,"sources":["EditarArticulo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA","file":"EditarArticulo.vue","sourceRoot":"src/views/servicios/articulos","sourcesContent":["<template>\r\n    <div>\r\n        <v-overlay :value=\"overlay\">\r\n            <v-progress-circular\r\n                indeterminate\r\n                size=\"64\"\r\n            ></v-progress-circular>\r\n        </v-overlay>\r\n     <TitleSection :sectiontitle=\"sectiontitle\"/>\r\n       <input type=\"hidden\" v-model=\"id\" value=\"0\" >\r\n <!--    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <div class=\"input-group\">\r\n                <div class=\"custom-file mb-3\"> \r\n                <input type=\"file\" class=\"custom-file-input\" id=\"uploadfiles\" ref=\"uploadfiles\" multiple required />\r\n                <label class=\"custom-file-label\" for=\"uploadfiles\">Elija varias archivos para cargar</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-2 prueba\">\r\n            <button type=\"button\" @click=\"uploadFile()\" name=\"upload\" class=\"btn btn-warning\">Cargar Archivos</button>\r\n        </div>\r\n    </div>\r\n    Mostrando los archivos cargados \r\n    <div>\r\n        <ul >\r\n            <li  v-for=\"(filename, index) in this.$refs.uploadfiles\" :key=\"index\"> {{ filename }} </li>\r\n        </ul>\r\n    </div> \r\n  -->\r\n       <!-- SOME FORM ELEMENTS HERE -->\r\n    <UploadFileMultiple :id=\"id\"/>\r\n  \r\n    </div>\r\n    \r\n</template>\r\n<script>\r\nimport articuloModule            from '@/store/modules/articuloModule';\r\nimport vueDropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nexport default {\r\n    components:{\r\n        vueDropzone\r\n    },\r\n\r\n    data(){\r\n        return{\r\n            dropzoneOptions :  {\r\n            url: 'https://api.filicabh.com/api/v1/productofotos/'+this.$route.params.id+'/upload',\r\n            thumbnailWidth: 250,\r\n            maxFilesize: 5, // MB\r\n            maxFiles: 5,\r\n            addRemoveLinks: true,\r\n            dictDefaultMessage: \"<i class='fa fa-cloud-upload fa-2x'> </i> Cargar Imagenes del Artículo\",\r\n            autoProcessQueue:false,\r\n            headers: { 'Content-Type': 'multipart/form-data',\"Authorization\": \"Bearer \" + localStorage.getItem('_token') }\r\n        },\r\n            destroyDropzone :  true,\r\n            id:this.$route.params.id,\r\n            sectiontitle : 'Cargar Fotos al Artículo',\r\n            filenames: [],\r\n            overlay : false,\r\n            snackbar : false,\r\n            textmsj : '',\r\n            color : '',\r\n            uploadedFiles : [],\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        saveForm () {\r\n            if (this.$refs.myVueDropzone.getQueuedFiles().length) {\r\n                console.log(this.$refs.myVueDropzone.getQueuedFiles())\r\n               // this.$refs.myVueDropzone.headers = { \"Authorization\": \"Bearer \" + localStorage.getItem('_token') };\r\n                this.$refs.myVueDropzone.processQueue()\r\n            } else {\r\n                alert('Debe Agregar Imagenes')\r\n            }\r\n        },\r\n\r\n        errorUploading (file, message, xhr) {\r\n            console.log(file, message, xhr)\r\n        },\r\n        fileUploaded (file, response) {\r\n            \r\n            this.filenames.push(file);\r\n\r\n        },\r\n        async  sendingEvent (file, xhr, formData) {\r\n       \r\n            this.uploadedFiles.push(file);\r\n            console.log(file)\r\n            formData.append('fotos[]',this.uploadedFiles)\r\n    \t\tthis.overlay = true\r\n           // const dataUpload = await articuloModule.updateArticulo(this.$refs.myVueDropzone.getQueuedFiles());\r\n            this.textmsj = 'Imagenes Subidas con Éxito.'\r\n            this.color = 'success'\r\n            this.snackbar = true\r\n            this.back()\r\n            this.overlay = false\r\n            //const dataArticuloById = await articuloModule.getArticuloWithFotoById(this.$route.params.id);\r\n        },\r\n \r\n        async uploadFile(){\r\n            \r\n            let formData = new FormData();\r\n            var files = this.$refs.uploadfiles.files;\r\n            var totalfiles = this.$refs.uploadfiles.files.length;\r\n\r\n            for (var index = 0; index < totalfiles; index++) {\r\n                formData.append(\"fotos[]\", files[index]);\r\n            } \r\n         \r\n           // formData.append(\"id\", this.id);\r\n            const data = await articuloModule.updateArticulo(formData);\r\n        },\r\n        removeAllFiles() {\r\n            this.$refs.myVueDropzone.removeAllFiles();\r\n        },\r\n        back() {\r\n        setTimeout(() => {\r\n           // this.$router.go(-1);\r\n            this.snackbar = false\r\n        },2000);\r\n    }\r\n \r\n\r\n    }    \r\n}\r\n//https://www.youtube.com/watch?v=oL83LdJ_Yvs Link para el video tutorial ac erca de cargar imagenes\r\n//https://programmerclick.com/article/4536355486/\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import url(\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\");\r\n\r\n</style>\r\n"]}]}