{"remainingRequest":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket\\src\\components\\MainDataTable.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket\\src\\components\\MainDataTable.vue","mtime":1640620606196},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7Q29tcG9uZW50LCBQcm9wLCBWdWV9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOw0KaW1wb3J0IHtzZXJpYWxpemUsIGRlc2VyaWFsaXplIH0gZnJvbSAnanNvbmFwaS1mcmFjdGFsJw0KaW1wb3J0IGdsb2JhbE1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvZ2xvYmFsTW9kdWxlJzsNCg0KDQpAQ29tcG9uZW50DQpleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluRGF0YVRhYmxlIGV4dGVuZHMgVnVlIHsNCiAgICBAUHJvcCgpIHJlYWRvbmx5IGhlYWRlcnMhOiBzdHJpbmcNCiAgICBAUHJvcCgpIHJlYWRvbmx5IGRlc3NlcnRzITogYW55DQogICAgQFByb3AoKSByZWFkb25seSBpdGVtc1BlclBhZ2UhOiBhbnkNCiAgDQogICAgQFByb3AoKSByZWFkb25seSBzZWFyY2ghOiBzdHJpbmcNCiAgICBAUHJvcCgpIHJlYWRvbmx5IGxvYWRpbmchOiBib29sZWFuDQogICAgQFByb3AoKSByZWFkb25seSB0aXRsZSE6IHN0cmluZw0KICAgIEBQcm9wKCkgcmVhZG9ubHkgbW9kdWxlU3RvcmUhOiBhbnkNCiAgICBAUHJvcCgpIHJlYWRvbmx5IHNlY3Rpb24hOiBzdHJpbmcNCiAgICBAUHJvcCgpIHJlYWRvbmx5IGVuZHBvaW50ITogc3RyaW5nDQogICAgc2VsZWN0ZWQ6IE9iamVjdCA9IFtdDQogICAgcGFnZSA6IGFueSA9IHt9DQogICAgb3ZlcmxheSA6IGJvb2xlYW4gPSBmYWxzZQ0KICAgIGRhdGEgOmFueSA9IHsNCiAgICAgICAgcGFnZTpudWxsLA0KICAgICAgICBlbmRwb2ludDp0aGlzLmVuZHBvaW50LA0KICAgICAgICBpdGVtc1BlclBhZ2U6bnVsbCwNCiAgICAgICAgdG9rZW46ICcnDQogICAgfQ0KICAgIHBhZ2luYXRpb24gOmFueSA9IHsNCiAgICAgICAgY3VycmVudF9wYWdlIDogMCwNCiAgICAgICAgZnJvbSA6IDAsDQogICAgICAgIGxhc3RfcGFnZSA6IDAsDQogICAgICAgIHBlcl9wYWdlIDogMCwNCiAgICAgICAgdG8gOiAwLA0KICAgICAgICB0b3RhbCA6IDANCiAgICB9DQogICAgZXhwYW5kZWQgPSBbXQ0KICAgIHNpbmdsZUV4cGFuZCA6IGJvb2xlYW4gPSBmYWxzZQ0KICAgIEVkaXQoaXRlbSl7DQogICAgICAgIHRoaXMuJGVtaXQoJ2VkaXQnLGl0ZW0pDQogICAgfQ0KICAgIERlbGV0ZShpZCl7DQogICAgICAgIHRoaXMuJGVtaXQoJ2RlbGV0ZScsaWQpDQogICAgfQ0KICAgIGFjdGl2YXJQYWdpbmF0ZShwYWdlKXsNCiAgICAgIA0KICAgICAgICBpZiAocGFnZS5pdGVtc1BlclBhZ2UgPT0gLTEpIHsNCiAgICAgICAgICAgIHRoaXMuZGF0YS5wYWdlID0gcGFnZS5wYWdlDQogICAgICAgICAgICB0aGlzLmRhdGEuaXRlbXNQZXJQYWdlID0gcGFnZS5pdGVtc0xlbmd0aA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5kYXRhLnBhZ2UgPSBwYWdlLnBhZ2UNCiAgICAgICAgICAgIHRoaXMuZGF0YS5pdGVtc1BlclBhZ2UgPSBwYWdlLml0ZW1zUGVyUGFnZQ0KICAgICAgICB9IA0KICANCiAgICAgICAgdGhpcy5kYXRhUGFnaW5hdGUodGhpcy5kYXRhKSAgDQogICAgfQ0KICAgIGNyZWF0ZVVzZXIoaWQpew0KICAgICAgICB0aGlzLiRlbWl0KCdjcmVhdGVVc2VyJyxpZCkgDQogICAgfQ0KDQogICAgYXN5bmMgZGF0YVBhZ2luYXRlKHBhZ2UpeyAgICAgICAgIA0KICAgICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgICAgIGxldCBwYWdpbmF0ZURhdGEgOiBhbnkgPSBbXTsNCiAgICAgICAgY29uc3QgcmVzIDogYW55ID0gYXdhaXQgZ2xvYmFsTW9kdWxlLmRhdGFQYWdpbmF0ZSh0aGlzLmRhdGEpDQogICAgICAgIHRoaXMucGFnaW5hdGlvbi5jdXJyZW50X3BhZ2UgPSByZXMuZGF0YS5tZXRhLnBhZ2UuY3VycmVudF9wYWdlLA0KICAgICAgICB0aGlzLnBhZ2luYXRpb24uZnJvbSA9IHJlcy5kYXRhLm1ldGEucGFnZS5mcm9tLA0KICAgICAgICB0aGlzLnBhZ2luYXRpb24ubGFzdF9wYWdlID0gcmVzLmRhdGEubWV0YS5wYWdlLmxhc3RfcGFnZSwNCiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBlcl9wYWdlID0gcmVzLmRhdGEubWV0YS5wYWdlLnBlcl9wYWdlLA0KICAgICAgICB0aGlzLnBhZ2luYXRpb24udG8gPSByZXMuZGF0YS5tZXRhLnBhZ2UudG8sDQogICAgICAgIHRoaXMucGFnaW5hdGlvbi50b3RhbCA9IHJlcy5kYXRhLm1ldGEucGFnZS50b3RhbA0KICAgICAgICBpZiAodGhpcy5wYWdpbmF0aW9uLnBlcl9wYWdlID09IHRoaXMucGFnaW5hdGlvbi50b3RhbCkgew0KICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnBlcl9wYWdlID0gLTENCiAgICAgICAgfQ0KICAgICAgICBwYWdpbmF0ZURhdGEgPSBkZXNlcmlhbGl6ZShyZXMuZGF0YSkNCiAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlRGF0YScsIHBhZ2luYXRlRGF0YSk7IA0KICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZQ0KICAgIH0NCiAgICBtb3VudGVkKCl7DQogICAgICAgIHRoaXMuZGF0YS50b2tlbiAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3Rva2VuJykNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhLnRva2VuICkNCiAgICB9DQp9DQo="},{"version":3,"sources":["MainDataTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MainDataTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n    \t<v-overlay :value=\"overlay\">\r\n        <v-progress-circular\r\n            indeterminate\r\n            size=\"64\"\r\n        ></v-progress-circular>\r\n        </v-overlay>\r\n        <v-data-table\r\n                v-model=\"selected\"\r\n                :search=\"search\"\r\n                :headers=\"headers\"\r\n                :items=\"desserts\"\r\n                item-key=\"id\"\r\n                hide-select\r\n                class=\"elevation-1 table-one\"\r\n                multi-sort\r\n                :loading=\"loading\"\r\n                loading-text=\"Cargando Data... Por Favor Espere\"\r\n                @pagination=\"activarPaginate\"\r\n                :itemsPerPage=\"pagination.per_page\"\r\n                :server-items-length=\"pagination.total\"  \r\n                :footer-props=\"{\r\n                    'items-per-page-options': [10, 15, 20, 30, 40, 50, -1],\r\n                    'items-per-page-text':'Filtro por Página'\r\n                    \r\n                }\" \r\n                :single-expand=\"singleExpand\"\r\n                :expanded.sync=\"expanded\"\r\n            \r\n                >\r\n                <!--template  v-slot:expanded-item=\"{ headers, item }\">\r\n                <td  v-if=\"section == 'contacto'\" :colspan=\"headers.length\">\r\n                    Dirección Fiscal :  {{ (item.clientes.direccion_fiscal == null) ? 'N/T' : item.clientes.direccion_fiscal  }}\r\n                </td>\r\n                </template-->\r\n                <template v-slot:item.name=\"{item}\">\r\n                    <div class=\"d-flex align-center\">\r\n                        <v-avatar class=\"mr-2\" size=\"26\" dark>\r\n                            <img :src=\"item.img\" alt=\"\" />\r\n                        </v-avatar>\r\n                        <p class=\"ma-0 font-weight-medium\">\r\n                            {{ item.name }}\r\n                        </p>\r\n                    </div>\r\n                </template>\r\n                <template v-slot:item.action=\"{item}\">\r\n                    <div class=\"d-flex\">\r\n                        <v-tooltip top>\r\n                            <template v-slot:activator=\"{on, attrs}\">\r\n                                <v-btn\r\n                                    color=\"success\"\r\n                                    dark\r\n                                    @click=\"Edit(item.id)\"   \r\n                                    icon\r\n                                    v-bind=\"attrs\"\r\n                                    v-on=\"on\"\r\n                                >\r\n                                    <v-icon>mdi-pencil-box-outline</v-icon>\r\n                                </v-btn>\r\n                            </template>\r\n                            <span>Edit</span>\r\n                        </v-tooltip>\r\n                        <v-tooltip top>\r\n                            <template v-slot:activator=\"{on, attrs}\">\r\n                                <v-btn\r\n                                v-if=\"section != 'articulo'\"\r\n                                    color=\"error\"\r\n                                    dark\r\n                                    v-bind=\"attrs\"\r\n                                    v-on=\"on\"\r\n                                    icon\r\n                                    @click=\"Delete(item.id)\"   \r\n                                >\r\n                                    <v-icon>mdi-trash-can-outline</v-icon>\r\n                                </v-btn>\r\n                            </template>\r\n                            <span>Delete</span>\r\n                        </v-tooltip>\r\n                        <v-tooltip top>\r\n                            <template v-slot:activator=\"{on, attrs}\">\r\n                                <v-btn\r\n                                v-if=\"section == 'vendedor' || section == 'cliente'\"\r\n                                    color=\"primary\"\r\n                                    dark\r\n                                    v-bind=\"attrs\"\r\n                                    v-on=\"on\"\r\n                                    icon\r\n                                    @click=\"createUser(item.id)\"   \r\n                                >\r\n                                    <v-icon dark>mdi-account</v-icon>\r\n                                </v-btn>\r\n                            </template>\r\n                            <span>Crear Usuario</span>\r\n                        </v-tooltip>\r\n                    </div>\r\n                </template>\r\n                <template v-slot:item.badge=\"{item}\">\r\n                    <template v-if=\"item.badge === '0'\">\r\n                        <v-chip\r\n                            class=\"\"\r\n                            color=\"success\"\r\n                            label=\"Activo\"\r\n                            small\r\n                            text-color=\"white\"\r\n                        >\r\n                            <v-icon small left>mdi-check</v-icon>\r\n                            {{ item.badge }}\r\n                        </v-chip>\r\n                    </template>\r\n                    <template v-else>\r\n                        <v-chip\r\n                            class=\"\"\r\n                            color=\"default\"\r\n                            label\r\n                            small\r\n                            text-color=\"white\"\r\n                        >\r\n                            <v-icon small left>mdi-close</v-icon>\r\n                            {{ item.badge }}\r\n                        </v-chip>\r\n                    </template>\r\n                </template>\r\n        </v-data-table>\r\n \r\n      \r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport {Component, Prop, Vue} from 'vue-property-decorator';\r\nimport {serialize, deserialize } from 'jsonapi-fractal'\r\nimport globalModule from '@/store/modules/globalModule';\r\n\r\n\r\n@Component\r\nexport default class MainDataTable extends Vue {\r\n    @Prop() readonly headers!: string\r\n    @Prop() readonly desserts!: any\r\n    @Prop() readonly itemsPerPage!: any\r\n  \r\n    @Prop() readonly search!: string\r\n    @Prop() readonly loading!: boolean\r\n    @Prop() readonly title!: string\r\n    @Prop() readonly moduleStore!: any\r\n    @Prop() readonly section!: string\r\n    @Prop() readonly endpoint!: string\r\n    selected: Object = []\r\n    page : any = {}\r\n    overlay : boolean = false\r\n    data :any = {\r\n        page:null,\r\n        endpoint:this.endpoint,\r\n        itemsPerPage:null,\r\n        token: ''\r\n    }\r\n    pagination :any = {\r\n        current_page : 0,\r\n        from : 0,\r\n        last_page : 0,\r\n        per_page : 0,\r\n        to : 0,\r\n        total : 0\r\n    }\r\n    expanded = []\r\n    singleExpand : boolean = false\r\n    Edit(item){\r\n        this.$emit('edit',item)\r\n    }\r\n    Delete(id){\r\n        this.$emit('delete',id)\r\n    }\r\n    activarPaginate(page){\r\n      \r\n        if (page.itemsPerPage == -1) {\r\n            this.data.page = page.page\r\n            this.data.itemsPerPage = page.itemsLength\r\n        } else {\r\n            this.data.page = page.page\r\n            this.data.itemsPerPage = page.itemsPerPage\r\n        } \r\n  \r\n        this.dataPaginate(this.data)  \r\n    }\r\n    createUser(id){\r\n        this.$emit('createUser',id) \r\n    }\r\n\r\n    async dataPaginate(page){         \r\n        this.overlay = true\r\n        let paginateData : any = [];\r\n        const res : any = await globalModule.dataPaginate(this.data)\r\n        this.pagination.current_page = res.data.meta.page.current_page,\r\n        this.pagination.from = res.data.meta.page.from,\r\n        this.pagination.last_page = res.data.meta.page.last_page,\r\n        this.pagination.per_page = res.data.meta.page.per_page,\r\n        this.pagination.to = res.data.meta.page.to,\r\n        this.pagination.total = res.data.meta.page.total\r\n        if (this.pagination.per_page == this.pagination.total) {\r\n            this.pagination.per_page = -1\r\n        }\r\n        paginateData = deserialize(res.data)\r\n        this.$emit('updateData', paginateData); \r\n        this.overlay = false\r\n    }\r\n    mounted(){\r\n        this.data.token  = localStorage.getItem('_token')\r\n        console.log(this.data.token )\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n::v-deep .table-one {\r\n    thead.v-data-table-header {\r\n        tr {\r\n            &:hover {\r\n                background-color: #f2f3f8;\r\n            }\r\n            th {\r\n                span {\r\n                    font-size: 16px;\r\n                    color: #304156;\r\n                }\r\n            }\r\n        }\r\n        tr {\r\n            td {\r\n                padding-bottom: 20px;\r\n                padding-top: 20px;\r\n            }\r\n        }\r\n    }\r\n    tbody {\r\n        tr {\r\n            &:hover {\r\n                background-color: #f2f3f8 !important;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]}]}