{"remainingRequest":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\filmarket\\filmarket_dev\\src\\views\\servicios\\articulos\\EditarArticulo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\filmarket\\filmarket_dev\\src\\views\\servicios\\articulos\\EditarArticulo.vue","mtime":1646158292759},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXJ0aWN1bG9Nb2R1bGUgICAgICAgICAgICBmcm9tICdAL3N0b3JlL21vZHVsZXMvYXJ0aWN1bG9Nb2R1bGUnOw0KaW1wb3J0IHZ1ZURyb3B6b25lIGZyb20gJ3Z1ZTItZHJvcHpvbmUnDQppbXBvcnQgJ3Z1ZTItZHJvcHpvbmUvZGlzdC92dWUyRHJvcHpvbmUubWluLmNzcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOnsNCiAgICAgICAgdnVlRHJvcHpvbmUNCiAgICB9LA0KDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm57DQogICAgICAgICAgICBkcm9wem9uZU9wdGlvbnMgOiAgew0KICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuZmlsaWNhYmguY29tL2FwaS92MS9wcm9kdWN0b2ZvdG9zLycrdGhpcy4kcm91dGUucGFyYW1zLmlkKycvdXBsb2FkJywNCiAgICAgICAgICAgIHRodW1ibmFpbFdpZHRoOiAyNTAsDQogICAgICAgICAgICBtYXhGaWxlc2l6ZTogNSwgLy8gTUINCiAgICAgICAgICAgIG1heEZpbGVzOiA1LA0KICAgICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsDQogICAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6ICI8aSBjbGFzcz0nZmEgZmEtY2xvdWQtdXBsb2FkIGZhLTJ4Jz4gPC9pPiBDYXJnYXIgSW1hZ2VuZXMgZGVsIEFydMOtY3VsbyIsDQogICAgICAgICAgICBhdXRvUHJvY2Vzc1F1ZXVlOmZhbHNlLA0KICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnLCJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ190b2tlbicpIH0NCiAgICAgICAgfSwNCiAgICAgICAgICAgIGRlc3Ryb3lEcm9wem9uZSA6ICB0cnVlLA0KICAgICAgICAgICAgaWQ6dGhpcy4kcm91dGUucGFyYW1zLmlkLA0KICAgICAgICAgICAgc2VjdGlvbnRpdGxlIDogJ0NhcmdhciBGb3RvcyBhbCBBcnTDrWN1bG8nLA0KICAgICAgICAgICAgZmlsZW5hbWVzOiBbXSwNCiAgICAgICAgICAgIG92ZXJsYXkgOiBmYWxzZSwNCiAgICAgICAgICAgIHNuYWNrYmFyIDogZmFsc2UsDQogICAgICAgICAgICB0ZXh0bXNqIDogJycsDQogICAgICAgICAgICBjb2xvciA6ICcnLA0KICAgICAgICAgICAgdXBsb2FkZWRGaWxlcyA6IFtdLA0KICAgICAgICB9DQogICAgfSwNCiAgICANCiAgICBtZXRob2RzOiB7DQogICAgICAgIHNhdmVGb3JtICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLm15VnVlRHJvcHpvbmUuZ2V0UXVldWVkRmlsZXMoKS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLm15VnVlRHJvcHpvbmUuZ2V0UXVldWVkRmlsZXMoKSkNCiAgICAgICAgICAgICAgIC8vIHRoaXMuJHJlZnMubXlWdWVEcm9wem9uZS5oZWFkZXJzID0geyAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfdG9rZW4nKSB9Ow0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMubXlWdWVEcm9wem9uZS5wcm9jZXNzUXVldWUoKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBhbGVydCgnRGViZSBBZ3JlZ2FyIEltYWdlbmVzJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICBlcnJvclVwbG9hZGluZyAoZmlsZSwgbWVzc2FnZSwgeGhyKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlLCBtZXNzYWdlLCB4aHIpDQogICAgICAgIH0sDQogICAgICAgIGZpbGVVcGxvYWRlZCAoZmlsZSwgcmVzcG9uc2UpIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgdGhpcy5maWxlbmFtZXMucHVzaChmaWxlKTsNCg0KICAgICAgICB9LA0KICAgICAgICBhc3luYyAgc2VuZGluZ0V2ZW50IChmaWxlLCB4aHIsIGZvcm1EYXRhKSB7DQogICAgICAgDQogICAgICAgICAgICB0aGlzLnVwbG9hZGVkRmlsZXMucHVzaChmaWxlKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUpDQogICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZvdG9zW10nLHRoaXMudXBsb2FkZWRGaWxlcykNCiAgICAJCXRoaXMub3ZlcmxheSA9IHRydWUNCiAgICAgICAgICAgLy8gY29uc3QgZGF0YVVwbG9hZCA9IGF3YWl0IGFydGljdWxvTW9kdWxlLnVwZGF0ZUFydGljdWxvKHRoaXMuJHJlZnMubXlWdWVEcm9wem9uZS5nZXRRdWV1ZWRGaWxlcygpKTsNCiAgICAgICAgICAgIHRoaXMudGV4dG1zaiA9ICdJbWFnZW5lcyBTdWJpZGFzIGNvbiDDiXhpdG8uJw0KICAgICAgICAgICAgdGhpcy5jb2xvciA9ICdzdWNjZXNzJw0KICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IHRydWUNCiAgICAgICAgICAgIHRoaXMuYmFjaygpDQogICAgICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZQ0KICAgICAgICAgICAgLy9jb25zdCBkYXRhQXJ0aWN1bG9CeUlkID0gYXdhaXQgYXJ0aWN1bG9Nb2R1bGUuZ2V0QXJ0aWN1bG9XaXRoRm90b0J5SWQodGhpcy4kcm91dGUucGFyYW1zLmlkKTsNCiAgICAgICAgfSwNCiANCiAgICAgICAgYXN5bmMgdXBsb2FkRmlsZSgpew0KICAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsNCiAgICAgICAgICAgIHZhciBmaWxlcyA9IHRoaXMuJHJlZnMudXBsb2FkZmlsZXMuZmlsZXM7DQogICAgICAgICAgICB2YXIgdG90YWxmaWxlcyA9IHRoaXMuJHJlZnMudXBsb2FkZmlsZXMuZmlsZXMubGVuZ3RoOw0KDQogICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdG90YWxmaWxlczsgaW5kZXgrKykgew0KICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZm90b3NbXSIsIGZpbGVzW2luZGV4XSk7DQogICAgICAgICAgICB9IA0KICAgICAgICAgDQogICAgICAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgiaWQiLCB0aGlzLmlkKTsNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcnRpY3Vsb01vZHVsZS51cGRhdGVBcnRpY3Vsbyhmb3JtRGF0YSk7DQogICAgICAgIH0sDQogICAgICAgIHJlbW92ZUFsbEZpbGVzKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5teVZ1ZURyb3B6b25lLnJlbW92ZUFsbEZpbGVzKCk7DQogICAgICAgIH0sDQogICAgICAgIGJhY2soKSB7DQogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oLTEpOw0KICAgICAgICAgICAgdGhpcy5zbmFja2JhciA9IGZhbHNlDQogICAgICAgIH0sMjAwMCk7DQogICAgfQ0KIA0KDQogICAgfSAgICANCn0NCi8vaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1vTDgzTGRKX1l2cyBMaW5rIHBhcmEgZWwgdmlkZW8gdHV0b3JpYWwgYWMgZXJjYSBkZSBjYXJnYXIgaW1hZ2VuZXMNCi8vaHR0cHM6Ly9wcm9ncmFtbWVyY2xpY2suY29tL2FydGljbGUvNDUzNjM1NTQ4Ni8NCg=="},{"version":3,"sources":["EditarArticulo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"EditarArticulo.vue","sourceRoot":"src/views/servicios/articulos","sourcesContent":["<template>\r\n    <div>\r\n        <v-overlay :value=\"overlay\">\r\n            <v-progress-circular\r\n                indeterminate\r\n                size=\"64\"\r\n            ></v-progress-circular>\r\n        </v-overlay>\r\n     <TitleSection :sectiontitle=\"sectiontitle\"/>\r\n       <input type=\"hidden\" v-model=\"id\" value=\"0\" >\r\n <!--    <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n            <div class=\"input-group\">\r\n                <div class=\"custom-file mb-3\"> \r\n                <input type=\"file\" class=\"custom-file-input\" id=\"uploadfiles\" ref=\"uploadfiles\" multiple required />\r\n                <label class=\"custom-file-label\" for=\"uploadfiles\">Elija varias archivos para cargar</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"col-md-2 prueba\">\r\n            <button type=\"button\" @click=\"uploadFile()\" name=\"upload\" class=\"btn btn-warning\">Cargar Archivos</button>\r\n        </div>\r\n    </div>\r\n    Mostrando los archivos cargados \r\n    <div>\r\n        <ul >\r\n            <li  v-for=\"(filename, index) in this.$refs.uploadfiles\" :key=\"index\"> {{ filename }} </li>\r\n        </ul>\r\n    </div> \r\n  -->\r\n       <!-- SOME FORM ELEMENTS HERE -->\r\n    <UploadFileMultiple :id=\"id\"/>\r\n  \r\n    </div>\r\n    \r\n</template>\r\n<script>\r\nimport articuloModule            from '@/store/modules/articuloModule';\r\nimport vueDropzone from 'vue2-dropzone'\r\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\r\nexport default {\r\n    components:{\r\n        vueDropzone\r\n    },\r\n\r\n    data(){\r\n        return{\r\n            dropzoneOptions :  {\r\n            url: 'https://api.filicabh.com/api/v1/productofotos/'+this.$route.params.id+'/upload',\r\n            thumbnailWidth: 250,\r\n            maxFilesize: 5, // MB\r\n            maxFiles: 5,\r\n            addRemoveLinks: true,\r\n            dictDefaultMessage: \"<i class='fa fa-cloud-upload fa-2x'> </i> Cargar Imagenes del Artículo\",\r\n            autoProcessQueue:false,\r\n            headers: { 'Content-Type': 'multipart/form-data',\"Authorization\": \"Bearer \" + localStorage.getItem('_token') }\r\n        },\r\n            destroyDropzone :  true,\r\n            id:this.$route.params.id,\r\n            sectiontitle : 'Cargar Fotos al Artículo',\r\n            filenames: [],\r\n            overlay : false,\r\n            snackbar : false,\r\n            textmsj : '',\r\n            color : '',\r\n            uploadedFiles : [],\r\n        }\r\n    },\r\n    \r\n    methods: {\r\n        saveForm () {\r\n            if (this.$refs.myVueDropzone.getQueuedFiles().length) {\r\n                console.log(this.$refs.myVueDropzone.getQueuedFiles())\r\n               // this.$refs.myVueDropzone.headers = { \"Authorization\": \"Bearer \" + localStorage.getItem('_token') };\r\n                this.$refs.myVueDropzone.processQueue()\r\n            } else {\r\n                alert('Debe Agregar Imagenes')\r\n            }\r\n        },\r\n\r\n        errorUploading (file, message, xhr) {\r\n            console.log(file, message, xhr)\r\n        },\r\n        fileUploaded (file, response) {\r\n            \r\n            this.filenames.push(file);\r\n\r\n        },\r\n        async  sendingEvent (file, xhr, formData) {\r\n       \r\n            this.uploadedFiles.push(file);\r\n            console.log(file)\r\n            formData.append('fotos[]',this.uploadedFiles)\r\n    \t\tthis.overlay = true\r\n           // const dataUpload = await articuloModule.updateArticulo(this.$refs.myVueDropzone.getQueuedFiles());\r\n            this.textmsj = 'Imagenes Subidas con Éxito.'\r\n            this.color = 'success'\r\n            this.snackbar = true\r\n            this.back()\r\n            this.overlay = false\r\n            //const dataArticuloById = await articuloModule.getArticuloWithFotoById(this.$route.params.id);\r\n        },\r\n \r\n        async uploadFile(){\r\n            \r\n            let formData = new FormData();\r\n            var files = this.$refs.uploadfiles.files;\r\n            var totalfiles = this.$refs.uploadfiles.files.length;\r\n\r\n            for (var index = 0; index < totalfiles; index++) {\r\n                formData.append(\"fotos[]\", files[index]);\r\n            } \r\n         \r\n           // formData.append(\"id\", this.id);\r\n            const data = await articuloModule.updateArticulo(formData);\r\n        },\r\n        removeAllFiles() {\r\n            this.$refs.myVueDropzone.removeAllFiles();\r\n        },\r\n        back() {\r\n        setTimeout(() => {\r\n           // this.$router.go(-1);\r\n            this.snackbar = false\r\n        },2000);\r\n    }\r\n \r\n\r\n    }    \r\n}\r\n//https://www.youtube.com/watch?v=oL83LdJ_Yvs Link para el video tutorial ac erca de cargar imagenes\r\n//https://programmerclick.com/article/4536355486/\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  @import url(\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\");\r\n\r\n</style>\r\n"]}]}