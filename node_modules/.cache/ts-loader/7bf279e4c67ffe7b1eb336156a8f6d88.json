{"remainingRequest":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js!C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\laragon\\www\\filmarket\\src\\store\\modules\\sessionModule.ts","dependencies":[{"path":"C:\\laragon\\www\\filmarket\\src\\store\\modules\\sessionModule.ts","mtime":1639449237333},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L2xhcmFnb24vd3d3L2ZpbG1hcmtldC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiQzovbGFyYWdvbi93d3cvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiQzovbGFyYWdvbi93d3cvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovbGFyYWdvbi93d3cvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiQzovbGFyYWdvbi93d3cvZmlsbWFya2V0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgZ2V0TW9kdWxlLCBNb2R1bGUsIE11dGF0aW9uQWN0aW9uLCBNdXRhdGlvbiwgQWN0aW9uLCBWdWV4TW9kdWxlIH0gZnJvbSAndnVleC1tb2R1bGUtZGVjb3JhdG9ycyc7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgaHR0cCB9IGZyb20gJ0AvdXRpbHMvaHR0cCc7CmltcG9ydCB7IGZldGNoVXNlciwgZmV0Y2hTdWJNZW51IH0gZnJvbSAnQC91dGlscy91dGlsaXR5JzsKaW1wb3J0IHsgZGVzZXJpYWxpemUgfSBmcm9tICdqc29uYXBpLWZyYWN0YWwnOwppbXBvcnQgc3RvcmFnZURhdGEgZnJvbSAnQC9zdG9yZS9zZXJ2aWNlcy9zdG9yYWdlU2VydmljZSc7Cgp2YXIgc2Vzc2lvbk1vZHVsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZXhNb2R1bGUpIHsKICBfaW5oZXJpdHMoc2Vzc2lvbk1vZHVsZSwgX1Z1ZXhNb2R1bGUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKHNlc3Npb25Nb2R1bGUpOwoKICBmdW5jdGlvbiBzZXNzaW9uTW9kdWxlKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBzZXNzaW9uTW9kdWxlKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMudG9rZW4gPSAnJzsKICAgIF90aGlzLnJlZnJlc2hfdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3JlZnJlc2hfdG9rZW4nKTsKICAgIF90aGlzLnRva2VucyA9IFtdOwogICAgX3RoaXMudXNlclNlc2lvbiA9IFtdOwogICAgX3RoaXMudXNlck1lbnUgPSBbXTsKICAgIF90aGlzLnVzZXJTdWJNZW51ID0gW107CiAgICBfdGhpcy5zZXR0aW5nID0gW107CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3Moc2Vzc2lvbk1vZHVsZSwgW3sKICAgIGtleTogImdldFRva2VucyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHN0b3JhZ2VEYXRhLmdldCgnX3Rva2VuJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0U2V0dGluZyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHN0b3JhZ2VEYXRhLmdldCgnX3NldHRpbmcnKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRTZXR0aW5nIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTZXR0aW5nKHNldHRpbmcpIHsKICAgICAgdGhpcy5zZXR0aW5nID0gc2V0dGluZzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXN0cm95U2V0dGluZyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveVNldHRpbmcoKSB7CiAgICAgIHRoaXMuc2V0dGluZyA9IFtdOwogICAgfQogIH0sIHsKICAgIGtleTogImRlc3Ryb3lEYXRhU2VsZWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95RGF0YVNlbGVjdCgpIHsKICAgICAgdGhpcy5zZXR0aW5nID0gW107CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0VG9rZW5zIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUb2tlbnModG9rZW5zKSB7CiAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zOwogICAgfQogIH0sIHsKICAgIGtleTogInNldFRva2VuIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUb2tlbih0b2tlbikgewogICAgICB0aGlzLnRva2VuID0gdG9rZW47CiAgICB9CiAgfSwgewogICAga2V5OiAic2V0UmVmcmVzaF90b2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UmVmcmVzaF90b2tlbihyZWZyZXNoX3Rva2VuKSB7CiAgICAgIHRoaXMucmVmcmVzaF90b2tlbiA9IHJlZnJlc2hfdG9rZW47CiAgICB9CiAgfSwgewogICAga2V5OiAiZGVzdHJveVRva2VucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveVRva2VucygpIHsKICAgICAgdGhpcy50b2tlbnMgPSBbXTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXN0cm95VG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3lUb2tlbigpIHsKICAgICAgdGhpcy50b2tlbiA9ICcnOwogICAgICB0aGlzLnJlZnJlc2hfdG9rZW4gPSBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9naW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodXNlckxvZ2luKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGh0dHAucG9zdCgnbG9naW4nLCB1c2VyTG9naW4pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgX2xvZ2luMiA9IGRlc2VyaWFsaXplKHBheWxvYWQuZGF0YSk7CgogICAgICAgICAgICAgICAgICAgIHVzZXJMb2dpbi5jb2RlID0gcGF5bG9hZC5zdGF0dXM7CgogICAgICAgICAgICAgICAgICAgIGlmICh1c2VyTG9naW4uY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3Rva2VuID0gX2xvZ2luMi5hY2Nlc3NfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZyA9IF9sb2dpbjIuY29uZmlndXJhY2lvbl9nZW5lcmFsOwogICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZURhdGEuc2V0KCdfdG9rZW4nLCBzdG9rZW4pOwogICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZURhdGEuc2V0KCdfc2V0dGluZycsIHNldHRpbmcpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb250ZXh0LmNvbW1pdCgnc2V0VG9rZW4nLCBzdG9rZW4pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb250ZXh0LmNvbW1pdCgnc2V0U2V0dGluZycsIHNldHRpbmcpOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb250ZXh0LmNvbW1pdCgnc2V0VG9rZW5zJywgcGF5bG9hZC5kYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB1c2VyTG9naW4uY29kZSA9IDUwMDsKICAgICAgICAgICAgICAgICAgICB1c2VyTG9naW4ubWVzc2FnZSA9ICdFcnJvciBncmF2ZSBjb24gU2Vydmlkb3InOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICB1c2VyTG9naW4uY29kZSA9IDUwMDsKICAgICAgICAgICAgICAgICAgdXNlckxvZ2luLm1lc3NhZ2UgPSAnRXJyb3IgNTAwIGdyYXZlIGNvbiBTZXJ2aWRvciAnOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHVzZXJMb2dpbik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbihfeCkgewogICAgICAgIHJldHVybiBfbG9naW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGxvZ2luOwogICAgfSgpCiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9nb3V0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArIHRoaXMudG9rZW47CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gaHR0cC5wb3N0KCdsb2dvdXQnKS50aGVuKGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICAgICAgICAgIHN0b3JhZ2VEYXRhLnJlbW92ZSgnX3Rva2VuJyk7CiAgICAgICAgICAgICAgICAgIHN0b3JhZ2VEYXRhLnJlbW92ZSgnX3NldHRpbmcnKTsKICAgICAgICAgICAgICAgICAgc3RvcmFnZURhdGEucmVtb3ZlKCdfcmVmcmVzaF90b2tlbicpOwogICAgICAgICAgICAgICAgICBzdG9yYWdlRGF0YS5yZW1vdmUoJ19zZXR0aW5nJyk7CiAgICAgICAgICAgICAgICAgIHN0b3JhZ2VEYXRhLnJlbW92ZSgnX2RhdGFTZWxlY3QnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5jb250ZXh0LmNvbW1pdCgnZGVzdHJveVRva2VuJyk7CgogICAgICAgICAgICAgICAgICBfdGhpczMuY29udGV4dC5jb21taXQoJ2Rlc3Ryb3lUb2tlbnMnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5jb250ZXh0LmNvbW1pdCgnZGVzdHJveVNldHRpbmcnKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5jb250ZXh0LmNvbW1pdCgnZGVzdHJveURhdGFTZWxlY3QnKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFcnJvciAke2V9Jyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgIHJldHVybiBfbG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dvdXQ7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRSZWZyZXNoVG9rZW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRSZWZyZXNoVG9rZW4gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgICB2YXIgc3Rva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzdG9rZW4gPSAnJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBodHRwLnBvc3QoJ3JlZnJlc2h0b2tlbicsIHsKICAgICAgICAgICAgICAgICAgJ3JlZnJlc2hfdG9rZW4nOiB0aGlzLnJlZnJlc2hfdG9rZW4KICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZC5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgdmFyIF9zdG9rZW4gPSBwYXlsb2FkLmRhdGEuZGF0YS5hY2Nlc3NfdG9rZW47CiAgICAgICAgICAgICAgICAgICAgICB2YXIgc3JlZnJlc2hfdG9rZW4gPSBwYXlsb2FkLmRhdGEuZGF0YS5yZWZyZXNoX3Rva2VuOwogICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZURhdGEuc2V0KCdfdG9rZW4nLCBfc3Rva2VuKTsKICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VEYXRhLnNldCgnX3JlZnJlc2hfdG9rZW4nLCBzcmVmcmVzaF90b2tlbik7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmNvbnRleHQuY29tbWl0KCdzZXRUb2tlbicsIF9zdG9rZW4pOwoKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5jb250ZXh0LmNvbW1pdCgnc2V0UmVmcmVzaF90b2tlbicsIHNyZWZyZXNoX3Rva2VuKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLmRhdGEuZXJyb3IpOwogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRSZWZyZXNoVG9rZW4oKSB7CiAgICAgICAgcmV0dXJuIF9nZXRSZWZyZXNoVG9rZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFJlZnJlc2hUb2tlbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvYWRVc2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfbG9hZFVzZXIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciB1c2VyLCB1c2VyU3ViTWVudSwgbWVudSwgbWVudUFycmF5LCB1c2VyTWVudTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoVXNlcigpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICB1c2VyID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTdWJNZW51KHVzZXIucm9sZV9pZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHVzZXJTdWJNZW51ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBtZW51ID0gW107IC8vL3JlZ2lzdHJvIHRvZG9zIGxzIHBhZHJlcyBkZSBsb3Mgc3VibWVudXMKCiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh1c2VyU3ViTWVudSkubWFwKGZ1bmN0aW9uIChJbmRleCkgewogICAgICAgICAgICAgICAgICB2YXIgc3VibWVudSA9IHVzZXJTdWJNZW51W0luZGV4XTsKICAgICAgICAgICAgICAgICAgbWVudS5wdXNoKHN1Ym1lbnUubWVudS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pOyAvL2VsaW1pbm8gbG9zIHBhZHJlcyByZXBldGlkb3MKCiAgICAgICAgICAgICAgICBtZW51QXJyYXkgPSBtZW51LmZpbHRlcihmdW5jdGlvbiAobWVudUl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgICAgICAgIHZhciBfbWVudSA9IEpTT04uc3RyaW5naWZ5KG1lbnVJdGVtKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA9PT0gbWVudS5maW5kSW5kZXgoZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopID09PSBfbWVudTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHVzZXJNZW51ID0gbWVudUFycmF5OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgICAgdXNlclNlc2lvbjogdXNlciwKICAgICAgICAgICAgICAgICAgdXNlck1lbnU6IHVzZXJNZW51LAogICAgICAgICAgICAgICAgICB1c2VyU3ViTWVudTogdXNlclN1Yk1lbnUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9hZFVzZXIoKSB7CiAgICAgICAgcmV0dXJuIF9sb2FkVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gbG9hZFVzZXI7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBzZXNzaW9uTW9kdWxlOwp9KFZ1ZXhNb2R1bGUpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBzZXNzaW9uTW9kdWxlLnByb3RvdHlwZSwgInNldFNldHRpbmciLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgc2Vzc2lvbk1vZHVsZS5wcm90b3R5cGUsICJkZXN0cm95U2V0dGluZyIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBzZXNzaW9uTW9kdWxlLnByb3RvdHlwZSwgImRlc3Ryb3lEYXRhU2VsZWN0IiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIHNlc3Npb25Nb2R1bGUucHJvdG90eXBlLCAic2V0VG9rZW5zIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIHNlc3Npb25Nb2R1bGUucHJvdG90eXBlLCAic2V0VG9rZW4iLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgc2Vzc2lvbk1vZHVsZS5wcm90b3R5cGUsICJzZXRSZWZyZXNoX3Rva2VuIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIHNlc3Npb25Nb2R1bGUucHJvdG90eXBlLCAiZGVzdHJveVRva2VucyIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBzZXNzaW9uTW9kdWxlLnByb3RvdHlwZSwgImRlc3Ryb3lUb2tlbiIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgc2Vzc2lvbk1vZHVsZS5wcm90b3R5cGUsICJsb2dpbiIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgc2Vzc2lvbk1vZHVsZS5wcm90b3R5cGUsICJsb2dvdXQiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIHNlc3Npb25Nb2R1bGUucHJvdG90eXBlLCAiZ2V0UmVmcmVzaFRva2VuIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbkFjdGlvbih7CiAgbXV0YXRlOiBbJ3VzZXJTZXNpb24nLCAndXNlck1lbnUnLCAndXNlclN1Yk1lbnUnXQp9KV0sIHNlc3Npb25Nb2R1bGUucHJvdG90eXBlLCAibG9hZFVzZXIiLCBudWxsKTsKCnNlc3Npb25Nb2R1bGUgPSBfX2RlY29yYXRlKFtNb2R1bGUoewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgbmFtZTogJ3Nlc3Npb24nLAogIHN0b3JlOiBzdG9yZSwKICBkeW5hbWljOiB0cnVlCn0pXSwgc2Vzc2lvbk1vZHVsZSk7CmV4cG9ydCBkZWZhdWx0IGdldE1vZHVsZShzZXNzaW9uTW9kdWxlKTs="},{"version":3,"sources":["C:\\laragon\\www\\filmarket\\src\\store\\modules\\sessionModule.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  getModule,\r\n  Module,\r\n  MutationAction,\r\n  Mutation,\r\n  Action,\r\n  VuexModule,\r\n} from 'vuex-module-decorators';\r\nimport store from '@/store';\r\nimport { UserSubmit } from '../interfaces/Auth';\r\nimport { UserToken } from '../interfaces/UserToken';\r\nimport { http } from '@/utils/http';\r\nimport { User } from '../interfaces/User';\r\nimport { fetchUser,  fetchSubMenu } from '@/utils/utility'\r\nimport { Menu } from '../interfaces/Menu';\r\nimport { SubMenu } from '../interfaces/SubMenu';\r\nimport { deserialize } from 'jsonapi-fractal'\r\nimport storageData from '@/store/services/storageService'\r\n\r\n@Module({\r\n  namespaced: true,\r\n  name: 'session',\r\n  store,\r\n  dynamic: true,\r\n})\r\n\r\nclass sessionModule extends VuexModule {\r\n\r\n\ttoken : string = '';\r\n\trefresh_token: string | null = localStorage.getItem('_refresh_token');\r\n\ttokens: UserToken[] = [];\r\n\tuserSesion: User[] = [];\r\n\tuserMenu: Menu[] = [];\r\n\tuserSubMenu: SubMenu[] = [];\r\n\tsetting : any[] = [];\r\n\r\n\tget getTokens() {\r\n\t\treturn storageData.get('_token');\r\n\t}\r\n\r\n\tget getSetting() {\r\n\t\treturn  storageData.get('_setting');\r\n\t}\r\n\r\n\t@Mutation\r\n\tsetSetting(setting: any) {\r\n\t\tthis.setting = setting;\r\n\t}\r\n\r\n\t@Mutation\r\n\tdestroySetting(){\r\n\t\tthis.setting = [];\r\n\t}\r\n\r\n\t@Mutation\r\n\tdestroyDataSelect(){\r\n\t\tthis.setting = [];\r\n\t} \r\n\r\n\t@Mutation\r\n\tsetTokens(tokens: UserToken[]) {\r\n\t\tthis.tokens = tokens;\r\n\t}\r\n\r\n\t@Mutation\r\n\tsetToken(token: string) {\r\n\t\tthis.token = token;\r\n\t}\r\n\r\n\t@Mutation\r\n\tsetRefresh_token(refresh_token: string) {\r\n\t\tthis.refresh_token = refresh_token;\r\n\t}\r\n\t@Mutation\r\n\tdestroyTokens() {\r\n\t\tthis.tokens = [];\r\n\t}\r\n\t@Mutation\r\n\tdestroyToken() {\r\n\t\tthis.token = '';\r\n\t\tthis.refresh_token = null;\r\n\t}\r\n  \t@Action\r\n\tasync login(userLogin: UserSubmit) {\r\n\t\tawait http.post('login', userLogin)\r\n\t\t.then((payload: any) => {\r\n\t\t\tif (payload) {\r\n\t\t\tconst login = deserialize(payload.data)\r\n\t\t\tuserLogin.code = payload.status\r\n\t\t\t\r\n\t\t\tif (userLogin.code === 200) {\r\n\t\t\t\tconst stoken: string  = login.access_token;\r\n\t\t\t\tconst setting: string = login.configuracion_general\r\n\t\t\t\tstorageData.set('_token', stoken);\r\n\t\t\t\tstorageData.set('_setting', setting);\r\n\t\t\t\tthis.context.commit('setToken', stoken);\r\n\t\t\t\tthis.context.commit('setSetting', setting);\r\n\t\t\t\tthis.context.commit('setTokens', payload.data.data);\r\n\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\tuserLogin.code = 500;\r\n\t\t\tuserLogin.message = 'Error grave con Servidor';\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\tuserLogin.code = 500;\r\n\t\t\tuserLogin.message = 'Error 500 grave con Servidor ';\r\n\t\t});\r\n\t\treturn userLogin;\r\n\t}\r\n\r\n  @Action\r\n  async logout() {\r\n    http.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n    await http\r\n      .post('logout')\r\n      .then((payload: any) => {\r\n        storageData.remove('_token');\r\n        storageData.remove('_setting');\r\n        storageData.remove('_refresh_token');\r\n        storageData.remove('_setting');\r\n        storageData.remove('_dataSelect');\r\n        this.context.commit('destroyToken');\r\n        this.context.commit('destroyTokens');\r\n        this.context.commit('destroySetting');\r\n        this.context.commit('destroyDataSelect');\r\n        return payload;\r\n      })\r\n      .catch((e) => console.log('Error ${e}'));\r\n  }\r\n\r\n  @Action\r\n  async getRefreshToken() {\r\n    const stoken: string = ''\r\n    await http\r\n      .post('refreshtoken',\r\n        {\r\n          'refresh_token': this.refresh_token\r\n        })\r\n      .then((payload: any) => {\r\n        if (payload) {\r\n          if (payload.data.code === 200) {\r\n            const stoken: string = payload.data.data.access_token;\r\n            const srefresh_token: string = payload.data.data.refresh_token;\r\n            storageData.set('_token', stoken);\r\n            storageData.set('_refresh_token', srefresh_token);\r\n            this.context.commit('setToken', stoken);\r\n            this.context.commit('setRefresh_token', srefresh_token);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.data.error);\r\n        return false;\r\n      });\r\n    return true;\r\n  }\r\n\r\n  @MutationAction({ mutate: ['userSesion', 'userMenu', 'userSubMenu'] })\r\n  async loadUser() {\r\n    const user = await fetchUser();\r\n    //const userMenu = await fetchMenu();\r\n    const userSubMenu = await fetchSubMenu(user.role_id);\r\n    const menu: Menu[] =[];\r\n\r\n    ///registro todos ls padres de los submenus\r\n    Object.keys(userSubMenu).map(function(Index){\r\n      let submenu = userSubMenu[Index];\r\n      menu.push(submenu.menu.data);\r\n    });\r\n    \r\n\r\n    //elimino los padres repetidos\r\n    const menuArray = menu.filter((menuItem, index) => {\r\n      const _menu = JSON.stringify(menuItem);\r\n      return index === menu.findIndex(obj => {\r\n        return JSON.stringify(obj) === _menu;\r\n      });\r\n    });\r\n\r\n    const userMenu = menuArray;\r\n    return { userSesion: user, userMenu, userSubMenu };\r\n  }\r\n\r\n\r\n  \r\n}\r\nexport default getModule(sessionModule);\r\n"],"sourceRoot":""}]}