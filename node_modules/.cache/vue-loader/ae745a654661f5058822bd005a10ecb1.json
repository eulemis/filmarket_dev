{"remainingRequest":"C:\\laragon\\www\\filmarket-dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket-dev\\src\\views\\servicios\\contacto\\ModalContacto.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket-dev\\src\\views\\servicios\\contacto\\ModalContacto.vue","mtime":1635211572535},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcic7DQppbXBvcnQgY29udGFjdE1vZHVsZSBmcm9tICdAL3N0b3JlL21vZHVsZXMvY29udGFjdE1vZHVsZSc7DQppbXBvcnQge0Zvcm1XaXphcmQsIFRhYkNvbnRlbnR9IGZyb20gJ3Z1ZS1mb3JtLXdpemFyZCcNCmltcG9ydCAndnVlLWZvcm0td2l6YXJkL2Rpc3QvdnVlLWZvcm0td2l6YXJkLm1pbi5jc3MnDQppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3ZlZS12YWxpZGF0ZS9kaXN0L3J1bGVzJw0KaW1wb3J0IHsgVmFsaWRhdGlvbk9ic2VydmVyIH0gZnJvbSAndmVlLXZhbGlkYXRlJw0KaW1wb3J0IHtzZXJpYWxpemUsIGRlc2VyaWFsaXplIH0gZnJvbSAnanNvbmFwaS1mcmFjdGFsJw0KQENvbXBvbmVudA0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxDb250YWN0byBleHRlbmRzIFZ1ZSB7DQoJQFByb3AoKSBjbGllbnRlcz86IGFueTsNCglAUHJvcCgpIGVkaXREYXRhPzogT2JqZWN0Ow0KCW92ZXJsYXkgPSBmYWxzZTsNCgl0aXRsZSA6IHN0cmluZyA9ICcnOw0KCXN1YnRpdGxlIDogc3RyaW5nID0gJycNCgljb250YWN0Rm9ybSA6IGFueSA9IHsNCgkJaWQ6ICcnLA0KICAgIAljb19jb250YWN0bzogICcnLA0KICAgIAlub21icmVfY29tcGxldG86ICAnJywNCiAgICAJdGVsZWZvbm86ICAnJywNCiAgICAJY2VsdWxhcjogICcnLA0KICAgIAllbWFpbDogICcnLA0KICAgIAljYXJnbzogICcnLA0KICAgIAlpZF9jbGllbnRlOiAwLA0KICAgIAllc3RhdHVzOiAgJycNCgl9Ow0KCWluYWN0aXZvID0gWw0KICAgICAgICB7dmFsdWU6ICcwJywgdGV4dDogJ0luYWN0aXZvJ30sDQogICAgICAgIHt2YWx1ZTogJzEnLCB0ZXh0OiAnQWN0aXZvJ30NCiAgICBdOw0KCSRyZWZzITogew0KICAgICAgICBjb250YWN0Rm9ybTogSW5zdGFuY2VUeXBlPHR5cGVvZiBWYWxpZGF0aW9uT2JzZXJ2ZXI+Ow0KICAgIH07DQoJZ2V0IEZvcm1SZXF1ZXN0KCk6IGFueSB7DQogICAgICAgIHJldHVybiBzZXJpYWxpemUodGhpcy5jb250YWN0Rm9ybSwnY29udGFjdG9zJyx7fSk7DQogICAgfQ0KCWdldCBFZGl0KCk6IGFueSB7DQoJCXJldHVybiB0aGlzLmNvbnRhY3RGb3JtID0gdGhpcy5lZGl0RGF0YQ0KCQkvL3dyYXBwZXIudm0uc2VsZWN0SXRlbSgnZm9vJykNCgl9IA0KDQoJb25Db21wbGV0ZSgpIHsNCgkJY29uc3QgdmFsaWQgPSAgdGhpcy4kcmVmcy5jb250YWN0Rm9ybS52YWxpZGF0ZSgpOw0KCQlsZXQgaWQgPSB0aGlzLmNvbnRhY3RGb3JtWydpZCddIDsNCgkJaWYgKGlkID09IHVuZGVmaW5lZCkgew0KCQkJDQoJCQlpZiAodmFsaWQpIHsNCgkJCQl0aGlzLnNhdmVDb250YWN0bygpOw0KCQkJfSBlbHNlIHsNCgkJCQlhbGVydCgnQ2FtcG9zIEluY29tcGxldG9zJyk7DQoJCQl9IA0KCQl9IGVsc2Ugew0KCQkJaWYgKHZhbGlkKSB7DQoJCQkJdGhpcy51cGRhdGVDb250YWN0bygpOw0KCQkJfWVsc2Ugew0KCQkJCWFsZXJ0KCdDYW1wb3MgSW5jb21wbGV0b3MnKTsNCgkJCX0gDQoJCX0NCiAgICB9DQoJYXN5bmMgc2F2ZUNvbnRhY3RvKCkgew0KCQl0aGlzLm92ZXJsYXkgPSB0cnVlDQogICAgCWNvbnN0IGRhdGEgPSBhd2FpdCBjb250YWN0TW9kdWxlLnNhdmVDb250YWN0KHRoaXMuRm9ybVJlcXVlc3QpDQoJCXRoaXMucmVzZXQoKTsNCgkJdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnKQ0KCQl0aGlzLiRlbWl0KCd1cGRhdGVEYXRhJywgZGF0YSk7DQoJCXRoaXMub3ZlcmxheSA9IGZhbHNlDQogICAgfTsNCglhc3luYyB1cGRhdGVDb250YWN0bygpIHsNCgkJdGhpcy5vdmVybGF5ID0gdHJ1ZQ0KICAgIAljb25zdCBkYXRhID0gYXdhaXQgY29udGFjdE1vZHVsZS51cGRhdGVDb250YWN0KHRoaXMuRm9ybVJlcXVlc3QpDQoJCXRoaXMucmVzZXQoKTsNCgkJdGhpcy4kZW1pdCgnY2xvc2VEaWFsb2cnKQ0KCQl0aGlzLiRlbWl0KCd1cGRhdGVEYXRhJywgZGF0YSk7DQoJCQl0aGlzLm92ZXJsYXkgPSBmYWxzZQ0KICAgIH07DQoJcmVzZXQgKCkgew0KICAgICAgICB0aGlzLiRyZWZzLmNvbnRhY3RGb3JtLnJlc2V0KCkNCiAgICB9Ow0KCWRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICAgIHJ1bGVzOiBbDQogICAgICAgICAgICAodjphbnkpID0+ICEhdiB8fCAnQ2FtcG8gcmVxdWVyaWRvJw0KICAgICAgICBdLA0KCQllbWFpbFJ1bGVzOiBbDQoJCQl2ID0+ICEhdiB8fCAnRS1tYWlsIGlzIHJlcXVlcmlkbycsDQoJCQl2ID0+IC8uK0AuKy8udGVzdCh2KSB8fCAnRS1tYWlsIG11c3QgYmUgdmFsaWQnLA0KCQldLCANCiAgICAgICAgICAgIA0KICAgICAgICB9DQogICAgfTsNCn0NCg=="},{"version":3,"sources":["ModalContacto.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"ModalContacto.vue","sourceRoot":"src/views/servicios/contacto","sourcesContent":["<template>\r\n    <div>\r\n\t\t<v-overlay :value=\"overlay\">\r\n        <v-progress-circular\r\n            indeterminate\r\n            size=\"64\"\r\n        ></v-progress-circular>\r\n        </v-overlay>\r\n        <form-wizard :start-index=\"0\" :title=\"title\" :subtitle=\"subtitle\" @on-complete=\"onComplete\" color=\"#009db0\" shape=\"tab\" finish-button-text=\"Guardar\">\r\n          \t<v-form ref=\"contactForm\"  lazy-validation >\t\r\n\t\t\t\t<tab-content title=\"Datos Generales\" icon=\"ti-home\" >\r\n\t\t\t\t\t<input type=\"hidden\" v-model=\"contactForm.id\" value=\"0\" >\r\n                    \t<v-row>\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Nombre Completo\"\r\n\t\t\t\t\t\t\tplaceholder=\"Nombre Completo\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.nombre_completo\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Teléfono\"\r\n\t\t\t\t\t\t\tplaceholder=\"Teléfono\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.telefono\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n                        <v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Celular\"\r\n\t\t\t\t\t\t\tplaceholder=\"Celular\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.celular\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Cargo\"\r\n\t\t\t\t\t\t\tplaceholder=\"Cargo\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.cargo\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n                   \r\n      \t\t\t\t</v-row>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Código Contacto\"\r\n\t\t\t\t\t\t\tplaceholder=\"Código Contacto\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"rules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.co_contacto\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\toutlined\r\n\t\t\t\t\t\t\tdense\r\n\t\t\t\t\t\t\t:rules=\"emailRules\"\r\n\t\t\t\t\t\t\tv-model=\"contactForm.email\"\r\n\t\t\t\t\t\t></v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-select\r\n                            :items=\"clientes\"\r\n                            item-text=\"razonSocial\"\r\n                            item-value=\"id\"\r\n                            label=\"Cliente\"\r\n                            placeholder=\"Cliente\"\r\n                            v-model=\"contactForm.id_cliente\"\r\n                            outlined\r\n                            dense\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n\t\t\t\t\t\t</v-col>\r\n                             <v-col\r\n\t\t\t\t\t\tcols=\"12\"\r\n\t\t\t\t\t\tsm=\"6\"\r\n\t\t\t\t\t\tmd=\"3\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t<v-select\r\n                            :items=\"inactivo\"\r\n                            item-text=\"text\"\r\n                            item-value=\"value\"\r\n                            label=\"Estatus\"\r\n                            placeholder=\"Estatus\"\r\n                            v-model=\"contactForm.estatus\"\r\n                            outlined\r\n                            dense\r\n                            :rules=\"rules\"\r\n                            required\r\n                        ></v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\r\n      \t\t\t\t</v-row>\r\n\t\t\t\t\r\n\t\t\t\t</tab-content>\r\n          \t</v-form>\r\n        </form-wizard>\r\n\t\t<div><pre>{{ Edit }}</pre></div>  \r\n    </div>\r\n</template>\r\n<script lang=\"ts\">\r\nimport { Vue, Component, Prop } from 'vue-property-decorator';\r\nimport contactModule from '@/store/modules/contactModule';\r\nimport {FormWizard, TabContent} from 'vue-form-wizard'\r\nimport 'vue-form-wizard/dist/vue-form-wizard.min.css'\r\nimport { required } from 'vee-validate/dist/rules'\r\nimport { ValidationObserver } from 'vee-validate'\r\nimport {serialize, deserialize } from 'jsonapi-fractal'\r\n@Component\r\nexport default class ModalContacto extends Vue {\r\n\t@Prop() clientes?: any;\r\n\t@Prop() editData?: Object;\r\n\toverlay = false;\r\n\ttitle : string = '';\r\n\tsubtitle : string = ''\r\n\tcontactForm : any = {\r\n\t\tid: '',\r\n    \tco_contacto:  '',\r\n    \tnombre_completo:  '',\r\n    \ttelefono:  '',\r\n    \tcelular:  '',\r\n    \temail:  '',\r\n    \tcargo:  '',\r\n    \tid_cliente: 0,\r\n    \testatus:  ''\r\n\t};\r\n\tinactivo = [\r\n        {value: '0', text: 'Inactivo'},\r\n        {value: '1', text: 'Activo'}\r\n    ];\r\n\t$refs!: {\r\n        contactForm: InstanceType<typeof ValidationObserver>;\r\n    };\r\n\tget FormRequest(): any {\r\n        return serialize(this.contactForm,'contactos',{});\r\n    }\r\n\tget Edit(): any {\r\n\t\treturn this.contactForm = this.editData\r\n\t\t//wrapper.vm.selectItem('foo')\r\n\t} \r\n\r\n\tonComplete() {\r\n\t\tconst valid =  this.$refs.contactForm.validate();\r\n\t\tlet id = this.contactForm['id'] ;\r\n\t\tif (id == undefined) {\r\n\t\t\t\r\n\t\t\tif (valid) {\r\n\t\t\t\tthis.saveContacto();\r\n\t\t\t} else {\r\n\t\t\t\talert('Campos Incompletos');\r\n\t\t\t} \r\n\t\t} else {\r\n\t\t\tif (valid) {\r\n\t\t\t\tthis.updateContacto();\r\n\t\t\t}else {\r\n\t\t\t\talert('Campos Incompletos');\r\n\t\t\t} \r\n\t\t}\r\n    }\r\n\tasync saveContacto() {\r\n\t\tthis.overlay = true\r\n    \tconst data = await contactModule.saveContact(this.FormRequest)\r\n\t\tthis.reset();\r\n\t\tthis.$emit('closeDialog')\r\n\t\tthis.$emit('updateData', data);\r\n\t\tthis.overlay = false\r\n    };\r\n\tasync updateContacto() {\r\n\t\tthis.overlay = true\r\n    \tconst data = await contactModule.updateContact(this.FormRequest)\r\n\t\tthis.reset();\r\n\t\tthis.$emit('closeDialog')\r\n\t\tthis.$emit('updateData', data);\r\n\t\t\tthis.overlay = false\r\n    };\r\n\treset () {\r\n        this.$refs.contactForm.reset()\r\n    };\r\n\tdata(){\r\n    return{\r\n        rules: [\r\n            (v:any) => !!v || 'Campo requerido'\r\n        ],\r\n\t\temailRules: [\r\n\t\t\tv => !!v || 'E-mail is requerido',\r\n\t\t\tv => /.+@.+/.test(v) || 'E-mail must be valid',\r\n\t\t], \r\n            \r\n        }\r\n    };\r\n}\r\n</script>\r\n"]}]}