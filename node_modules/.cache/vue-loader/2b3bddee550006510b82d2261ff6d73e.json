{"remainingRequest":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\filmarket\\filmarket_dev\\src\\views\\submenu\\List.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\filmarket\\filmarket_dev\\src\\views\\submenu\\List.vue","mtime":1642885779521},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCwgUmVmIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7DQppbXBvcnQgc3VibWVudU1vZHVsZSBmcm9tICJAL3N0b3JlL21vZHVsZXMvc3VibWVudU1vZHVsZSI7DQppbXBvcnQgeyBTdWJNZW51IH0gZnJvbSAiQC9zdG9yZS9pbnRlcmZhY2VzL1N1Yk1lbnUiOw0KaW1wb3J0IHsgTWVudSB9IGZyb20gIkAvc3RvcmUvaW50ZXJmYWNlcy9NZW51IjsNCmltcG9ydCB7IFBhZ2luYXRpb24gfSBmcm9tICIuLi8uLi9zdG9yZS9pbnRlcmZhY2VzL1BhZ2luYXRpb24iOw0KQENvbXBvbmVudCh7fSkNCmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3QgZXh0ZW5kcyBWdWUgew0KICBAUHJvcCgpIG1vZGlmeWl0ZW0/OiBTdWJNZW51Ow0KICBAUHJvcCgpIGFjdGl2YXJGb3JtPzogYm9vbGVhbjsNCiAgQFByb3AoKSBhY3RpdmFyQnVzY2Fkb3I/OiBib29sZWFuOw0KDQogIGVsaW1pbmFyTW9kYWw6IGJvb2xlYW4gPSBmYWxzZTsNCiAgZmlsdHJvczogT2JqZWN0ID0ge307DQogIGNvbHVtbk9yZGVuOiBzdHJpbmcgPSAiIjsNCiAgdGlwb09yZGVuOiBzdHJpbmcgPSAiIjsNCiAgb3JkZW5JdGVtczogT2JqZWN0ID0ge307DQogIHBhZ2U6IG51bWJlciA9IDE7DQogIHBhcmFtZXRyb3M6IGFueSA9IFtdOw0KICBpdGVtc0xpc3RhOiBhbnkgPSBbXTsNCiAgZmllbGRzOiBBcnJheTxhbnk+ID0gWw0KICAgIHsga2V5OiAiaWQiLCBfc3R5bGU6ICJ3aWR0aDo1JSIgfSwNCiAgICB7IGtleTogIm5hbWUiLCBfc3R5bGU6ICJ3aWR0aDoyMCUiIH0sDQogICAgeyBrZXk6ICJ0aXRsZSIsIF9zdHlsZTogIndpZHRoOjEwJSIgfSwNCiAgICB7IGtleTogIm9yZGVyIiwgX3N0eWxlOiAid2lkdGg6MTAlIiB9LA0KICAgIHsga2V5OiAiaWNvbiIsIF9zdHlsZTogIndpZHRoOjEwJSIgfSwNCiAgICB7IGtleTogInRvIiwgX3N0eWxlOiAid2lkdGg6MTAlOyIgfSwNCiAgICB7IGtleTogIm5hbWVtZW51IiwgX3N0eWxlOiAid2lkdGg6NSU7IiB9LA0KICAgIHsNCiAgICAgIGtleTogInNob3dfZGV0YWlscyIsDQogICAgICBsYWJlbDogIkFjY2lvbmVzIiwNCiAgICAgIF9zdHlsZTogIndpZHRoOjUlIiwNCiAgICAgIHNvcnRlcjogZmFsc2UsDQogICAgICBmaWx0ZXI6IGZhbHNlDQogICAgfQ0KICBdOw0KICANCg0KICBpdGVtc1BlclBhZ2VTZWxlY3Q6IE9iamVjdCA9IHsNCiAgICBsYWJlbDogIlJlZ2lzdHJvcyIsDQogICAgdmFsdWVzOiBbMTAsIDIwLCA1MF0sDQogICAgZXh0ZXJuYWw6IHRydWUNCiAgfTsNCg0KICBAV2F0Y2goIm9yZGVuSXRlbXMiLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KQ0KICBvcmRlbkl0ZW1zQ2hhbmdlKG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSkgew0KICAgIGlmICgiY29sdW1uIiBpbiBuZXdWYWwpIHsNCiAgICAgIA0KICAgICAgdGhpcy5jb2x1bW5PcmRlbiA9IG5ld1ZhbC5jb2x1bW47DQogICAgICB0aGlzLnRpcG9PcmRlbiA9IG5ld1ZhbC5hc2MgPyAic29ydF9ieSIgOiAic29ydF9ieV9kZXNjIjsNCiAgICAgIHRoaXMubGlzdGFyKCk7DQogICAgfQ0KICB9DQoNCiAgQFdhdGNoKCJhY3RpdmFyQnVzY2Fkb3IiLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KQ0KICBmaWx0cm9zQ2hhbmdlKG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSkgew0KICAgIGlmIChuZXdWYWwpIHsNCiAgICAgIHRoaXMubGlzdGFyKCk7DQogICAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6YWN0aXZhckJ1c2NhZG9yIiwgZmFsc2UpOw0KICAgIH0NCiAgfQ0KDQogIGdldCBzdWJtZW51cygpIHsNCiAgICByZXR1cm4gc3VibWVudU1vZHVsZS5zdWJtZW51czsNCiAgfQ0KDQogIGdldCBwYWdpbmF0aW9uKCkgew0KICAgIHJldHVybiBzdWJtZW51TW9kdWxlLnBhZ2luYXRpb247DQogIH0NCg0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIA0KICAgIHRoaXMubGlzdGFyKCk7DQogICAgdGhpcy5saXN0RGF0YXRhYmxlKCk7DQogICAgY29uc29sZS5sb2codGhpcy5pdGVtc0xpc3RhKTsNCiAgfQ0KDQogIGFzeW5jIGxpc3RhcigpIHsNCiAgICBjb25zdCB0aXBvT3JkZW46IHN0cmluZyA9IHRoaXMudGlwb09yZGVuOw0KDQogICAgdGhpcy5wYXJhbWV0cm9zID0gT2JqZWN0LmFzc2lnbigNCiAgICAgIHsgcGFnZTogdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRfcGFnZSB9LA0KICAgICAgeyBwZXJfcGFnZTogdGhpcy5wYWdpbmF0aW9uLnBlcl9wYWdlIH0sDQogICAgICB7IFt0aXBvT3JkZW5dOiB0aGlzLmNvbHVtbk9yZGVuIH0sDQogICAgICB0aGlzLmZpbHRyb3MNCiAgICApOw0KICAgIHN1Ym1lbnVNb2R1bGUuZ2V0QWxsKHRoaXMucGFyYW1ldHJvcyk7DQogIH0NCg0KICB0b3RhbEl0ZW1zUG9yUGFnaW5hKGl0ZW1zcG9ycGFnaW5hOiBudW1iZXIpIHsNCiAgICB0aGlzLnBhZ2luYXRpb24uY3VycmVudF9wYWdlID0gMTsNCiAgICB0aGlzLnBhZ2luYXRpb24ucGVyX3BhZ2UgPSBpdGVtc3BvcnBhZ2luYTsNCiAgICB0aGlzLmxpc3RhcigpOw0KICB9DQoNCiAgYXN5bmMgZWxpbWluYXIoaXRlbTogU3ViTWVudSk6IFByb21pc2U8dm9pZD4gew0KICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN1Ym1lbnVNb2R1bGUuZWxpbWluYXJNZW51KGl0ZW0gYXMgU3ViTWVudSk7DQogICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5lcnJvcikgew0KICAgICAgdGhpcy5lbGltaW5hck1vZGFsID0gZmFsc2U7DQogICAgfQ0KICB9DQogIG1vZGlmaWNhcihpdGVtOiBTdWJNZW51KSB7DQogICAgdGhpcy4kZW1pdCgidXBkYXRlOm1vZGlmeWl0ZW0iLCBpdGVtKTsNCiAgICB0aGlzLiRlbWl0KCJ1cGRhdGU6YWN0aXZhckZvcm0iLCB0cnVlKTsNCiAgfQ0KDQogIGxpc3REYXRhdGFibGUoKXsNCiAgICBjb25zdCBzdWJtZW51ID0gdGhpcy5zdWJtZW51czsNCiAgICB0aGlzLml0ZW1zTGlzdGEgPSBPYmplY3Qua2V5cyhzdWJtZW51KS5tYXAoZnVuY3Rpb24oSW5kZXgpew0KICAgICAgbGV0IHN1Ym1lbnVhbnkgPSBzdWJtZW51W0luZGV4XSA7DQogICAgICBjb25zdCBuYW1lID0gc3VibWVudWFueS5tZW51LmRhdGEubmFtZTsNCiAgICAgIHJldHVybiAgey4uLnN1Ym1lbnVhbnkgYXMgU3ViTWVudSxuYW1lbWVudTpuYW1lfTsNCiAgICB9KTsNCg0KDQoNCg0KICB9DQoNCiANCg0KfQ0K"},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;;;;AAIA","file":"List.vue","sourceRoot":"src/views/submenu","sourcesContent":["<template>\r\n  <div>\r\n    <CDataTable\r\n      :items=\"itemsLista\"\r\n      :fields=\"fields\"\r\n      size=\"sm\"\r\n      striped\r\n      :columnFilter=\"{ external: true, lazy: true } \"\r\n      :column-filter-value.sync=\"filtros\"\r\n      v-on:pagination-change=\"totalItemsPorPagina\"\r\n      :itemsPerPageSelect=\"itemsPerPageSelect\"\r\n      :sorter=\"{ external: true, resetable: false }\"\r\n      :sorter-value.sync=\"ordenItems\"\r\n    >\r\n      <template #show_details=\"{item}\">\r\n        <CButton class=\"mt-1 mr-1 ml-1 mb-1 btn btn-info btn-sm\" @click=\"modificar(item)\">\r\n          <CIcon name=\"cil-trash\" />\r\n        </CButton>\r\n\r\n        <CButton\r\n          class=\"mt-1 mr-1 ml-1 mb-1 btn btn-danger btn-sm\"\r\n          @click=\"eliminarModal= !eliminarModal\"\r\n        >\r\n          <CIcon name=\"cil-trash\" />\r\n        </CButton>\r\n\r\n        <CModal :show.sync=\"eliminarModal\" :no-close-on-backdrop=\"false\" size=\"lg\" color=\"danger\">\r\n          <span>\r\n            Â¿Esta seguro que desea eliminar el SubMenu?\r\n            <br />\r\n            {{item.id}} - {{item.name}}\r\n          </span>\r\n          <responseError />\r\n          <template #header>\r\n            <h6 class=\"modal-title\">Eliminar Datos</h6>\r\n            <CButtonClose @click=\"eliminar = false\" class=\"text-white\" />\r\n          </template>\r\n          <template #footer>\r\n            <CButton @click=\"eliminarModal = false\" color=\"secondary\">Cancelar</CButton>\r\n            <CButton @click=\"eliminar(item)\" color=\"danger\">Aceptar</CButton>\r\n          </template>\r\n        </CModal>\r\n      </template>\r\n    </CDataTable>\r\n    <CPagination\r\n      :pages=\"pagination.total_pages\"\r\n      align=\"start\"\r\n      :activePage.sync=\"pagination.current_page\"\r\n      @click.native=\"listar\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Vue, Component, Prop, Watch, Ref } from \"vue-property-decorator\";\r\nimport submenuModule from \"@/store/modules/submenuModule\";\r\nimport { SubMenu } from \"@/store/interfaces/SubMenu\";\r\nimport { Menu } from \"@/store/interfaces/Menu\";\r\nimport { Pagination } from \"../../store/interfaces/Pagination\";\r\n@Component({})\r\nexport default class List extends Vue {\r\n  @Prop() modifyitem?: SubMenu;\r\n  @Prop() activarForm?: boolean;\r\n  @Prop() activarBuscador?: boolean;\r\n\r\n  eliminarModal: boolean = false;\r\n  filtros: Object = {};\r\n  columnOrden: string = \"\";\r\n  tipoOrden: string = \"\";\r\n  ordenItems: Object = {};\r\n  page: number = 1;\r\n  parametros: any = [];\r\n  itemsLista: any = [];\r\n  fields: Array<any> = [\r\n    { key: \"id\", _style: \"width:5%\" },\r\n    { key: \"name\", _style: \"width:20%\" },\r\n    { key: \"title\", _style: \"width:10%\" },\r\n    { key: \"order\", _style: \"width:10%\" },\r\n    { key: \"icon\", _style: \"width:10%\" },\r\n    { key: \"to\", _style: \"width:10%;\" },\r\n    { key: \"namemenu\", _style: \"width:5%;\" },\r\n    {\r\n      key: \"show_details\",\r\n      label: \"Acciones\",\r\n      _style: \"width:5%\",\r\n      sorter: false,\r\n      filter: false\r\n    }\r\n  ];\r\n  \r\n\r\n  itemsPerPageSelect: Object = {\r\n    label: \"Registros\",\r\n    values: [10, 20, 50],\r\n    external: true\r\n  };\r\n\r\n  @Watch(\"ordenItems\", { immediate: true, deep: true })\r\n  ordenItemsChange(newVal: any, oldVal: any) {\r\n    if (\"column\" in newVal) {\r\n      \r\n      this.columnOrden = newVal.column;\r\n      this.tipoOrden = newVal.asc ? \"sort_by\" : \"sort_by_desc\";\r\n      this.listar();\r\n    }\r\n  }\r\n\r\n  @Watch(\"activarBuscador\", { immediate: true, deep: true })\r\n  filtrosChange(newVal: any, oldVal: any) {\r\n    if (newVal) {\r\n      this.listar();\r\n      this.$emit(\"update:activarBuscador\", false);\r\n    }\r\n  }\r\n\r\n  get submenus() {\r\n    return submenuModule.submenus;\r\n  }\r\n\r\n  get pagination() {\r\n    return submenuModule.pagination;\r\n  }\r\n\r\n  async created() {\r\n    \r\n    this.listar();\r\n    this.listDatatable();\r\n    console.log(this.itemsLista);\r\n  }\r\n\r\n  async listar() {\r\n    const tipoOrden: string = this.tipoOrden;\r\n\r\n    this.parametros = Object.assign(\r\n      { page: this.pagination.current_page },\r\n      { per_page: this.pagination.per_page },\r\n      { [tipoOrden]: this.columnOrden },\r\n      this.filtros\r\n    );\r\n    submenuModule.getAll(this.parametros);\r\n  }\r\n\r\n  totalItemsPorPagina(itemsporpagina: number) {\r\n    this.pagination.current_page = 1;\r\n    this.pagination.per_page = itemsporpagina;\r\n    this.listar();\r\n  }\r\n\r\n  async eliminar(item: SubMenu): Promise<void> {\r\n    const result = await submenuModule.eliminarMenu(item as SubMenu);\r\n    if (!this.$store.state.error) {\r\n      this.eliminarModal = false;\r\n    }\r\n  }\r\n  modificar(item: SubMenu) {\r\n    this.$emit(\"update:modifyitem\", item);\r\n    this.$emit(\"update:activarForm\", true);\r\n  }\r\n\r\n  listDatatable(){\r\n    const submenu = this.submenus;\r\n    this.itemsLista = Object.keys(submenu).map(function(Index){\r\n      let submenuany = submenu[Index] ;\r\n      const name = submenuany.menu.data.name;\r\n      return  {...submenuany as SubMenu,namemenu:name};\r\n    });\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n \r\n\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n</style>\r\n"]}]}