{"remainingRequest":"C:\\laragon\\www\\filmarket-dev\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\laragon\\www\\filmarket-dev\\src\\views\\menu\\List.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\laragon\\www\\filmarket-dev\\src\\views\\menu\\List.vue","mtime":1632513133944},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\laragon\\www\\filmarket-dev\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCmltcG9ydCB7IFZ1ZSwgQ29tcG9uZW50LCBQcm9wLCBXYXRjaCwgUmVmIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7DQppbXBvcnQgbWVudU1vZHVsZSBmcm9tICJAL3N0b3JlL21vZHVsZXMvbWVudU1vZHVsZSI7DQppbXBvcnQgeyBNZW51IH0gZnJvbSAiQC9zdG9yZS9pbnRlcmZhY2VzL01lbnUiOw0KaW1wb3J0IHsgUGFnaW5hdGlvbiB9IGZyb20gIi4uLy4uL3N0b3JlL2ludGVyZmFjZXMvUGFnaW5hdGlvbiI7DQpAQ29tcG9uZW50KHt9KQ0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlzdCBleHRlbmRzIFZ1ZSB7DQogIEBQcm9wKCkgbW9kaWZ5aXRlbT86IE1lbnU7DQogIEBQcm9wKCkgYWN0aXZhckZvcm0/OiBib29sZWFuOw0KICBAUHJvcCgpIGFjdGl2YXJCdXNjYWRvcj86IGJvb2xlYW47DQoNCiAgZWxpbWluYXJNb2RhbDogYm9vbGVhbiA9IGZhbHNlOw0KICBmaWx0cm9zOiBPYmplY3QgPSB7fTsNCiAgY29sdW1uT3JkZW46IHN0cmluZyA9ICIiOw0KICB0aXBvT3JkZW46IHN0cmluZyA9ICIiOw0KICBvcmRlbkl0ZW1zOiBPYmplY3QgPSB7fTsNCiAgcGFnZTogbnVtYmVyID0gMTsNCiAgcGFyYW1ldHJvczogYW55ID0gW107DQogIGZpZWxkczogQXJyYXk8YW55PiA9IFsNCiAgICB7IGtleTogImlkIiwgX3N0eWxlOiAid2lkdGg6NSUiIH0sDQogICAgeyBrZXk6ICJuYW1lIiwgX3N0eWxlOiAid2lkdGg6MjAlIiB9LA0KICAgIHsga2V5OiAidGl0bGUiLCBfc3R5bGU6ICJ3aWR0aDoxMCUiIH0sDQogICAgeyBrZXk6ICJvcmRlciIsIF9zdHlsZTogIndpZHRoOjEwJSIgfSwNCiAgICB7IGtleTogImljb24iLCBfc3R5bGU6ICJ3aWR0aDoxMCUiIH0sDQogICAgeyBrZXk6ICJyb3V0ZSIsIF9zdHlsZTogIndpZHRoOjEwJTsiIH0sDQogICAgeyBrZXk6ICJjaGlsZHJlbiIsIF9zdHlsZTogIndpZHRoOjUlOyIgfSwNCiAgICB7DQogICAgICBrZXk6ICJzaG93X2RldGFpbHMiLA0KICAgICAgbGFiZWw6ICJBY2Npb25lcyIsDQogICAgICBfc3R5bGU6ICJ3aWR0aDo1JSIsDQogICAgICBzb3J0ZXI6IGZhbHNlLA0KICAgICAgZmlsdGVyOiBmYWxzZQ0KICAgIH0NCiAgXTsNCg0KICBpdGVtc1BlclBhZ2VTZWxlY3Q6IE9iamVjdCA9IHsNCiAgICBsYWJlbDogIlJlZ2lzdHJvcyIsDQogICAgdmFsdWVzOiBbMTAsIDIwLCA1MF0sDQogICAgZXh0ZXJuYWw6IHRydWUNCiAgfTsNCg0KICBAV2F0Y2goIm9yZGVuSXRlbXMiLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KQ0KICBvcmRlbkl0ZW1zQ2hhbmdlKG5ld1ZhbDogYW55LCBvbGRWYWw6IGFueSkgew0KICAgIGlmICgiY29sdW1uIiBpbiBuZXdWYWwpIHsNCiAgICAgIGNvbnNvbGUubG9nKCJvcmRlbkl0ZW1zIik7DQogICAgICB0aGlzLmNvbHVtbk9yZGVuID0gbmV3VmFsLmNvbHVtbjsNCiAgICAgIHRoaXMudGlwb09yZGVuID0gbmV3VmFsLmFzYyA/ICJzb3J0X2J5IiA6ICJzb3J0X2J5X2Rlc2MiOw0KICAgICAgdGhpcy5saXN0YXIoKTsNCiAgICB9DQogIH0NCg0KICBAV2F0Y2goImFjdGl2YXJCdXNjYWRvciIsIHsgaW1tZWRpYXRlOiB0cnVlLCBkZWVwOiB0cnVlIH0pDQogIGZpbHRyb3NDaGFuZ2UobmV3VmFsOiBhbnksIG9sZFZhbDogYW55KSB7DQogICAgaWYgKG5ld1ZhbCkgew0KICAgICAgY29uc29sZS5sb2coImFjdGl2YXJCdXNjYWRvciIpOw0KICAgICAgdGhpcy5saXN0YXIoKTsNCiAgICAgIHRoaXMuJGVtaXQoInVwZGF0ZTphY3RpdmFyQnVzY2Fkb3IiLCBmYWxzZSk7DQogICAgfQ0KICB9DQoNCiAgZ2V0IG1lbnVzKCkgew0KICAgIHJldHVybiBtZW51TW9kdWxlLm1lbnVzOw0KICB9DQoNCiAgZ2V0IHBhZ2luYXRpb24oKSB7DQogICAgcmV0dXJuIG1lbnVNb2R1bGUucGFnaW5hdGlvbjsNCiAgfQ0KDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgY29uc29sZS5sb2coIm1vbnRlZCIpOw0KICAgIHRoaXMubGlzdGFyKCk7DQogIH0NCg0KICBhc3luYyBsaXN0YXIoKSB7DQogICAgY29uc3QgdGlwb09yZGVuOiBzdHJpbmcgPSB0aGlzLnRpcG9PcmRlbjsNCg0KICAgIHRoaXMucGFyYW1ldHJvcyA9IE9iamVjdC5hc3NpZ24oDQogICAgICB7IHBhZ2U6IHRoaXMucGFnaW5hdGlvbi5jdXJyZW50X3BhZ2UgfSwNCiAgICAgIHsgcGVyX3BhZ2U6IHRoaXMucGFnaW5hdGlvbi5wZXJfcGFnZSB9LA0KICAgICAgeyBbdGlwb09yZGVuXTogdGhpcy5jb2x1bW5PcmRlbiB9LA0KICAgICAgdGhpcy5maWx0cm9zDQogICAgKTsNCiAgICBtZW51TW9kdWxlLmdldEFsbCh0aGlzLnBhcmFtZXRyb3MpOw0KICB9DQoNCiAgdG90YWxJdGVtc1BvclBhZ2luYShpdGVtc3BvcnBhZ2luYTogbnVtYmVyKSB7DQogICAgdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnRfcGFnZSA9IDE7DQogICAgdGhpcy5wYWdpbmF0aW9uLnBlcl9wYWdlID0gaXRlbXNwb3JwYWdpbmE7DQogICAgdGhpcy5saXN0YXIoKTsNCiAgfQ0KDQogIGFzeW5jIGVsaW1pbmFyKGl0ZW06IE1lbnUpOiBQcm9taXNlPHZvaWQ+IHsNCiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtZW51TW9kdWxlLmVsaW1pbmFyTWVudShpdGVtIGFzIE1lbnUpOw0KICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuZXJyb3IpIHsNCiAgICAgIHRoaXMuZWxpbWluYXJNb2RhbCA9IGZhbHNlOw0KICAgIH0NCiAgfQ0KICBtb2RpZmljYXIoaXRlbTogTWVudSkgew0KICAgIHRoaXMuJGVtaXQoInVwZGF0ZTptb2RpZnlpdGVtIiwgaXRlbSk7DQogICAgdGhpcy4kZW1pdCgidXBkYXRlOmFjdGl2YXJGb3JtIiwgdHJ1ZSk7DQogIH0NCn0NCg=="},{"version":3,"sources":["List.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"List.vue","sourceRoot":"src/views/menu","sourcesContent":["<template>\r\n  <div>\r\n    <CDataTable\r\n      :items=\"menus\"\r\n      :fields=\"fields\"\r\n      size=\"sm\"\r\n      striped\r\n      :columnFilter=\"{ external: true, lazy: true } \"\r\n      :column-filter-value.sync=\"filtros\"\r\n      v-on:pagination-change=\"totalItemsPorPagina\"\r\n      :itemsPerPageSelect=\"itemsPerPageSelect\"\r\n      :sorter=\"{ external: true, resetable: false }\"\r\n      :sorter-value.sync=\"ordenItems\"\r\n    >\r\n      <template #show_details=\"{item}\">\r\n        <CButton class=\"mt-1 mr-1 ml-1 mb-1 btn btn-info btn-sm\" @click=\"modificar(item)\">\r\n          <CIcon name=\"cil-trash\" />\r\n        </CButton>\r\n\r\n        <CButton\r\n          class=\"mt-1 mr-1 ml-1 mb-1 btn btn-danger btn-sm\"\r\n          @click=\"eliminarModal= !eliminarModal\"\r\n        >\r\n          <CIcon name=\"cil-trash\" />\r\n        </CButton>\r\n\r\n        <CModal :show.sync=\"eliminarModal\" :no-close-on-backdrop=\"false\" size=\"lg\" color=\"danger\">\r\n          <span>\r\n            Â¿Esta seguro que desea eliminar el Menu?\r\n            <br />\r\n            {{item.id}} - {{item.name}}\r\n          </span>\r\n          <responseError />\r\n          <template #header>\r\n            <h6 class=\"modal-title\">Eliminar Datos</h6>\r\n            <CButtonClose @click=\"eliminar = false\" class=\"text-white\" />\r\n          </template>\r\n          <template #footer>\r\n            <CButton @click=\"eliminarModal = false\" color=\"secondary\">Cancelar</CButton>\r\n            <CButton @click=\"eliminar(item)\" color=\"danger\">Aceptar</CButton>\r\n          </template>\r\n        </CModal>\r\n      </template>\r\n    </CDataTable>\r\n    <CPagination\r\n      :pages=\"pagination.total_pages\"\r\n      align=\"start\"\r\n      :activePage.sync=\"pagination.current_page\"\r\n      @click.native=\"listar\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Vue, Component, Prop, Watch, Ref } from \"vue-property-decorator\";\r\nimport menuModule from \"@/store/modules/menuModule\";\r\nimport { Menu } from \"@/store/interfaces/Menu\";\r\nimport { Pagination } from \"../../store/interfaces/Pagination\";\r\n@Component({})\r\nexport default class List extends Vue {\r\n  @Prop() modifyitem?: Menu;\r\n  @Prop() activarForm?: boolean;\r\n  @Prop() activarBuscador?: boolean;\r\n\r\n  eliminarModal: boolean = false;\r\n  filtros: Object = {};\r\n  columnOrden: string = \"\";\r\n  tipoOrden: string = \"\";\r\n  ordenItems: Object = {};\r\n  page: number = 1;\r\n  parametros: any = [];\r\n  fields: Array<any> = [\r\n    { key: \"id\", _style: \"width:5%\" },\r\n    { key: \"name\", _style: \"width:20%\" },\r\n    { key: \"title\", _style: \"width:10%\" },\r\n    { key: \"order\", _style: \"width:10%\" },\r\n    { key: \"icon\", _style: \"width:10%\" },\r\n    { key: \"route\", _style: \"width:10%;\" },\r\n    { key: \"children\", _style: \"width:5%;\" },\r\n    {\r\n      key: \"show_details\",\r\n      label: \"Acciones\",\r\n      _style: \"width:5%\",\r\n      sorter: false,\r\n      filter: false\r\n    }\r\n  ];\r\n\r\n  itemsPerPageSelect: Object = {\r\n    label: \"Registros\",\r\n    values: [10, 20, 50],\r\n    external: true\r\n  };\r\n\r\n  @Watch(\"ordenItems\", { immediate: true, deep: true })\r\n  ordenItemsChange(newVal: any, oldVal: any) {\r\n    if (\"column\" in newVal) {\r\n      console.log(\"ordenItems\");\r\n      this.columnOrden = newVal.column;\r\n      this.tipoOrden = newVal.asc ? \"sort_by\" : \"sort_by_desc\";\r\n      this.listar();\r\n    }\r\n  }\r\n\r\n  @Watch(\"activarBuscador\", { immediate: true, deep: true })\r\n  filtrosChange(newVal: any, oldVal: any) {\r\n    if (newVal) {\r\n      console.log(\"activarBuscador\");\r\n      this.listar();\r\n      this.$emit(\"update:activarBuscador\", false);\r\n    }\r\n  }\r\n\r\n  get menus() {\r\n    return menuModule.menus;\r\n  }\r\n\r\n  get pagination() {\r\n    return menuModule.pagination;\r\n  }\r\n\r\n  async created() {\r\n    console.log(\"monted\");\r\n    this.listar();\r\n  }\r\n\r\n  async listar() {\r\n    const tipoOrden: string = this.tipoOrden;\r\n\r\n    this.parametros = Object.assign(\r\n      { page: this.pagination.current_page },\r\n      { per_page: this.pagination.per_page },\r\n      { [tipoOrden]: this.columnOrden },\r\n      this.filtros\r\n    );\r\n    menuModule.getAll(this.parametros);\r\n  }\r\n\r\n  totalItemsPorPagina(itemsporpagina: number) {\r\n    this.pagination.current_page = 1;\r\n    this.pagination.per_page = itemsporpagina;\r\n    this.listar();\r\n  }\r\n\r\n  async eliminar(item: Menu): Promise<void> {\r\n    const result = await menuModule.eliminarMenu(item as Menu);\r\n    if (!this.$store.state.error) {\r\n      this.eliminarModal = false;\r\n    }\r\n  }\r\n  modificar(item: Menu) {\r\n    this.$emit(\"update:modifyitem\", item);\r\n    this.$emit(\"update:activarForm\", true);\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n</style>\r\n"]}]}