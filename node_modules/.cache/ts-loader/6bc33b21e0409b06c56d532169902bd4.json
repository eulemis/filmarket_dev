{"remainingRequest":"C:\\filmarket\\filmarket_dev\\node_modules\\babel-loader\\lib\\index.js!C:\\filmarket\\filmarket_dev\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\filmarket\\filmarket_dev\\src\\store\\modules\\globalModule.ts","dependencies":[{"path":"C:\\filmarket\\filmarket_dev\\src\\store\\modules\\globalModule.ts","mtime":1644924388793},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\filmarket\\filmarket_dev\\node_modules\\ts-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJDOi9maWxtYXJrZXQvZmlsbWFya2V0X2Rldi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIkM6L2ZpbG1hcmtldC9maWxtYXJrZXRfZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiQzovZmlsbWFya2V0L2ZpbG1hcmtldF9kZXYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICJDOi9maWxtYXJrZXQvZmlsbWFya2V0X2Rldi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0IHsgX19kZWNvcmF0ZSB9IGZyb20gInRzbGliIjsKaW1wb3J0IHsgZ2V0TW9kdWxlLCBNb2R1bGUsIEFjdGlvbiwgVnVleE1vZHVsZSB9IGZyb20gJ3Z1ZXgtbW9kdWxlLWRlY29yYXRvcnMnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IGh0dHAgfSBmcm9tICdAL3V0aWxzL2h0dHAnOwppbXBvcnQgeyBkZXNlcmlhbGl6ZSB9IGZyb20gJ2pzb25hcGktZnJhY3RhbCc7CmltcG9ydCBzZXNzaW9uTW9kdWxlIGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9zZXNzaW9uTW9kdWxlJzsKCnZhciBnbG9iYWxNb2R1bGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWV4TW9kdWxlKSB7CiAgX2luaGVyaXRzKGdsb2JhbE1vZHVsZSwgX1Z1ZXhNb2R1bGUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKGdsb2JhbE1vZHVsZSk7CgogIGZ1bmN0aW9uIGdsb2JhbE1vZHVsZSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgZ2xvYmFsTW9kdWxlKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMudG9rZW4gPSBzZXNzaW9uTW9kdWxlLmdldFRva2VuczsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhnbG9iYWxNb2R1bGUsIFt7CiAgICBrZXk6ICJnZXRGaWx0ZXJTZWFyY2giLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlclNlYXJjaChkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyBfdGhpczIudG9rZW47CgogICAgICAgIGlmIChkYXRhLmVuZHBvaW50ID09ICdjb250YWN0b3MnKSB7CiAgICAgICAgICBodHRwLmdldCgiLyIuY29uY2F0KGRhdGEuZW5kcG9pbnQsICI/aW5jbHVkZT1jbGllbnRlcyZmaWx0ZXJbIikuY29uY2F0KGRhdGEuZmlsdGVyLCAiXT0iKS5jb25jYXQoZGF0YS5xdWVyeSwgIiZzb3J0PS1pZCIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB2YXIgc2VhcmNoID0gW107CiAgICAgICAgICAgICAgc2VhcmNoID0gZGVzZXJpYWxpemUocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgcmVzb2x2ZShzZWFyY2gpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBodHRwLmdldCgiLyIuY29uY2F0KGRhdGEuZW5kcG9pbnQsICI/ZmlsdGVyWyIpLmNvbmNhdChkYXRhLmZpbHRlciwgIl09IikuY29uY2F0KGRhdGEucXVlcnksICImc29ydD0taWQiKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdmFyIHNlYXJjaCA9IFtdOwogICAgICAgICAgICAgIHNlYXJjaCA9IGRlc2VyaWFsaXplKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIHJlc29sdmUoc2VhcmNoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImRhdGFQYWdpbmF0ZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGF0YVBhZ2luYXRlKGRhdGEpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoZGF0YS5lbmRwb2ludCA9PSAnY29udGFjdG9zJykgewogICAgICAgICAgaHR0cC5nZXQoIi9jb250YWN0b3M/aW5jbHVkZT1jbGllbnRlcyZwYWdlW251bWJlcl09MSZzb3J0PS1pZCIsIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICJBY2NlcHQiOiAnYXBwbGljYXRpb24vdm5kLmFwaStqc29uJwogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaHR0cC5nZXQoIi8iLmNvbmNhdChkYXRhLmVuZHBvaW50LCAiP3BhZ2VbbnVtYmVyXT0iKS5jb25jYXQoZGF0YS5wYWdlLCAiJnBhZ2Vbc2l6ZV09IikuY29uY2F0KGRhdGEuaXRlbXNQZXJQYWdlLCAiJnNvcnQ9LWlkIikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gZ2xvYmFsTW9kdWxlOwp9KFZ1ZXhNb2R1bGUpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgZ2xvYmFsTW9kdWxlLnByb3RvdHlwZSwgImdldEZpbHRlclNlYXJjaCIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgZ2xvYmFsTW9kdWxlLnByb3RvdHlwZSwgImRhdGFQYWdpbmF0ZSIsIG51bGwpOwoKZ2xvYmFsTW9kdWxlID0gX19kZWNvcmF0ZShbTW9kdWxlKHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIG5hbWU6ICdnbG9iYWwnLAogIHN0b3JlOiBzdG9yZSwKICBkeW5hbWljOiB0cnVlCn0pXSwgZ2xvYmFsTW9kdWxlKTsKZXhwb3J0IGRlZmF1bHQgZ2V0TW9kdWxlKGdsb2JhbE1vZHVsZSk7"},{"version":3,"sources":["C:\\filmarket\\filmarket_dev\\src\\store\\modules\\globalModule.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n    getModule,\r\n    Module,\r\n    Action,\r\n    VuexModule,\r\n  } from 'vuex-module-decorators';\r\n  import store from '@/store';\r\n  import { http } from '@/utils/http';\r\n  import { deserialize } from 'jsonapi-fractal'\r\n  import storageData from '@/store/services/storageService'\r\n  import sessionModule from '@/store/modules/sessionModule';\r\n  \r\n  @Module({\r\n    namespaced: true,\r\n    name: 'global',\r\n    store,\r\n    dynamic: true,\r\n  })\r\n  \r\n  class globalModule extends VuexModule {\r\n  \r\n    token = sessionModule.getTokens;\r\n\r\n\t@Action\r\n\t    getFilterSearch(data:any) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t  http.defaults.headers.common['Authorization'] = 'Bearer ' + this.token;\r\n        if (data.endpoint == 'contactos' ) {\r\n          http.get(`/${data.endpoint}?include=clientes&filter[${data.filter}]=${data.query}&sort=-id`)\r\n          .then(response =>  {\r\n        \r\n              if (response.status === 200) {      \r\n                let search : any = [];\r\n                search = deserialize(response.data)\r\n                resolve(search);\r\n              }\r\n          })\r\n          .catch(error => {\r\n            reject(error)\r\n          })\r\n        } else {\r\n          http.get(`/${data.endpoint}?filter[${data.filter}]=${data.query}&sort=-id`)\r\n          .then(response =>  {\r\n        \r\n              if (response.status === 200) {      \r\n                let search : any = [];\r\n                search = deserialize(response.data)\r\n                resolve(search);\r\n              }\r\n          })\r\n          .catch(error => {\r\n            reject(error)\r\n          })\r\n        }\r\n\r\n\t\t})\r\n\t  }\r\n\t  @Action\r\n\t  dataPaginate(data:any) {\r\n         return new Promise((resolve, reject) => {\r\n            if (data.endpoint == 'contactos') {\r\n                http.get(`/contactos?include=clientes&page[number]=1&sort=-id`,{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Accept\" : 'application/vnd.api+json'\r\n\t\t\t\t\t}\t\r\n\t\t\t\t})  \r\n                .then(response =>  {\r\n                    if (response.status === 200) {     \r\n                        resolve(response);\r\n                    }\r\n            })\r\n            .catch(error => {\r\n                reject(error)\r\n            })\r\n            } else {\r\n  \r\n                http.get(`/${data.endpoint}?page[number]=${data.page}&page[size]=${data.itemsPerPage}&sort=-id`)\r\n                .then(response =>  {\r\n\r\n                        if (response.status === 200) {     \r\n                            resolve(response);\r\n                        }\r\n                })\r\n                .catch(error => {\r\n                    reject(error)\r\n                })\r\n            } \r\n         \r\n            }) \r\n\t     }\r\n\r\n  }  \r\n  \r\n  export default getModule(globalModule);\r\n  "],"sourceRoot":""}]}